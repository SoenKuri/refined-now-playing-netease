(()=>{"use strict";var t={705:t=>{t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var n="",r=void 0!==e[5];return e[4]&&(n+="@supports (".concat(e[4],") {")),e[2]&&(n+="@media ".concat(e[2]," {")),r&&(n+="@layer".concat(e[5].length>0?" ".concat(e[5]):""," {")),n+=t(e),r&&(n+="}"),e[2]&&(n+="}"),e[4]&&(n+="}"),n})).join("")},e.i=function(t,n,r,o,i){"string"==typeof t&&(t=[[null,t,void 0]]);var a={};if(r)for(var s=0;s<this.length;s++){var c=this[s][0];null!=c&&(a[c]=!0)}for(var l=0;l<t.length;l++){var u=[].concat(t[l]);r&&a[u[0]]||(void 0!==i&&(void 0===u[5]||(u[1]="@layer".concat(u[5].length>0?" ".concat(u[5]):""," {").concat(u[1],"}")),u[5]=i),n&&(u[2]?(u[1]="@media ".concat(u[2]," {").concat(u[1],"}"),u[2]=n):u[2]=n),o&&(u[4]?(u[1]="@supports (".concat(u[4],") {").concat(u[1],"}"),u[4]=o):u[4]="".concat(o)),e.push(u))}},e}},742:t=>{t.exports=function(t,e){return e||(e={}),t?(t=String(t.__esModule?t.default:t),/^['"].*['"]$/.test(t)&&(t=t.slice(1,-1)),e.hash&&(t+=e.hash),/["'() \t\n]|(%20)/.test(t)||e.needQuotes?'"'.concat(t.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):t):t}},738:t=>{t.exports=function(t){return t[1]}},217:(t,e,n)=>{n.d(e,{Z:()=>s});var r=n(738),o=n.n(r),i=n(705),a=n.n(i)()(o());a.push([t.id,'.rnp-bg{display:block;width:100%;height:100%;opacity:1;pointer-events:none;position:fixed;left:0;top:0;overflow:hidden;transition:left .3s ease,top .3s ease,width .3s ease,height .3s ease,border-radius .3s ease}.rnp-bg>div{position:absolute;width:100%;height:100%;left:0;top:0;pointer-events:none}.rnp-bg .rnp-background-blur{background-position:center;background-repeat:no-repeat;background-size:cover;will-change:background-image}.rnp-bg .rnp-background-blur::before{content:"";position:absolute;width:100%;height:100%;background:#000;opacity:var(--bg-dim, 0.55);pointer-events:none}.rnp-bg .rnp-background-blur::after{content:"";position:absolute;width:100%;height:100%;backdrop-filter:blur(var(--bg-blur, 36px));pointer-events:none}.rnp-bg .rnp-background-gradient{background-size:400% 400%;background-position:50% 50%}.rnp-bg .rnp-background-gradient::before{content:"";position:absolute;width:100%;height:100%;background:#000;opacity:var(--bg-dim-for-gradient-bg, 0.45);pointer-events:none}.rnp-bg .rnp-background-fluid{background-size:cover;transform:scale(1.15)}.rnp-bg .rnp-background-fluid .rnp-background-fluid-rect{animation:fluid-container-rotate 150s linear infinite;width:max(100vw,100vh);height:max(100vw,100vh);top:calc(50% - 50vh);left:calc(50% - 50vw);position:relative;filter:saturate(1.3) brightness(0.8) url(#fluid-filter)}.rnp-bg .rnp-background-fluid .rnp-background-fluid-rect canvas{position:absolute;animation:fluid-block-rotate 60s linear infinite;animation-play-state:running;opacity:1}.rnp-bg .rnp-background-fluid .rnp-background-fluid-rect canvas[canvasID="1"]{animation-delay:-0s}.rnp-bg .rnp-background-fluid .rnp-background-fluid-rect canvas[canvasID="2"]{animation-delay:-5s}.rnp-bg .rnp-background-fluid .rnp-background-fluid-rect canvas[canvasID="3"]{animation-delay:-10s}.rnp-bg .rnp-background-fluid .rnp-background-fluid-rect canvas[canvasID="4"]{animation-delay:-15s}@keyframes fluid-block-rotate{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes fluid-container-rotate{0%{transform:scale(1.2) rotate(0deg)}100%{transform:scale(1.2) rotate(-360deg)}}.rnp-bg .rnp-background-fluid::after{content:"";position:absolute;display:block;width:100%;height:100%;left:0;top:0;z-index:1;backdrop-filter:blur(64px)}.rnp-bg .rnp-background-fluid::before{content:"";position:absolute;width:100%;height:100%;background:#000;opacity:var(--bg-dim-for-fluid-bg, 0.3);z-index:1;pointer-events:none}body.gradient-bg-dynamic .rnp-bg .rnp-background-gradient{animation:bg-gradient-animation 120s cubic-bezier(0.45, 0.05, 0.55, 0.95) infinite}@keyframes bg-gradient-animation{0%{background-position:0% 0%}25%{background-position:100% 0%}50%{background-position:100% 100%}75%{background-position:0% 100%}100%{background-position:0% 0%}}',""]);const s=a},264:(t,e,n)=>{n.d(e,{Z:()=>d});var r=n(738),o=n.n(r),i=n(705),a=n.n(i),s=n(742),c=n.n(s),l=new URL(n(48),n.b),u=a()(o()),p=c()(l);u.push([t.id,'.rnp-checkbox-wrapper{display:flex;flex-direction:row;align-items:center;margin-bottom:15px;transition:all .3s ease;height:var(--estimated-height, unset)}.rnp-checkbox-wrapper input[type=checkbox]{cursor:pointer}.rnp-checkbox-wrapper .rnp-checkbox{appearance:none;background-color:rgba(223,225,228,.2);border-radius:72px;border-style:none;flex-shrink:0;height:20px;margin:0;position:relative;width:30px;transition:all 100ms ease-out}.rnp-checkbox-wrapper .rnp-checkbox::before{bottom:-6px;content:"";left:-6px;position:absolute;right:-6px;top:-6px}.rnp-checkbox-wrapper .rnp-checkbox::after{background-color:#fff;border-radius:50%;content:"";height:14px;left:3px;position:absolute;top:3px;width:14px;transition:all 100ms ease-out}.rnp-checkbox-wrapper .rnp-checkbox:hover{background-color:rgba(201,203,205,.2);transition-duration:0s}.rnp-checkbox-wrapper .rnp-checkbox:checked{background-color:var(--rnp-accent-color)}.rnp-checkbox-wrapper .rnp-checkbox:checked::after{background-color:#fff;left:13px}.rnp-checkbox-wrapper .rnp-checkbox:checked:hover{background-color:var(--rnp-accent-color)}.rnp-checkbox-wrapper .rnp-checkbox-label{padding-left:10px;cursor:pointer;margin-right:2px}.rnp-checkbox-wrapper:last-of-type+.rnp-checkbox-note{margin-bottom:0}.rnp-checkbox-wrapper:last-child{margin-bottom:0}.rnp-checkbox-note{opacity:.5;font-size:12px;padding-left:40px;display:block;margin-top:-10px;margin-bottom:10px}.rnp-slider-wrapper{display:flex;flex-direction:column;align-items:flex-start;margin-bottom:15px;position:relative;padding-bottom:4px;height:38px;overflow:hidden;transition:all .3s ease}.rnp-slider-label{margin-bottom:8px}.rnp-slider{-webkit-appearance:none;background-color:rgba(223,225,228,.1333333333);border-radius:20px;width:100%;height:8px}.rnp-slider::-webkit-slider-thumb{-webkit-appearance:none;width:10px;height:10px;background:#fff;cursor:pointer;border-radius:10px;transition:all .2s ease}.rnp-slider::-webkit-slider-thumb:hover{-webkit-appearance:none;width:8px;height:16px;cursor:pointer}.rnp-slider-reset{width:8px;height:8px;border-radius:10px;border:none;opacity:.3;margin-left:6px;transform:translateY(-1px);background-color:#fff;transition:background-color .2s ease,opacity .2s ease}.rnp-slider-reset:hover{opacity:1;background-color:var(--rnp-accent-color)}.rnp-slider-wrapper:not(.changed) .rnp-slider-reset{opacity:0;pointer-events:none}.rnp-slider-wrapper.with-ticks:hover{height:48px}.rnp-slider-ticks{display:flex;width:100%;align-content:center;align-items:center;justify-content:space-between;margin-top:5px}.rnp-slider-tick{font-size:12px;opacity:0;transition:all .3s ease}.rnp-slider-wrapper.with-ticks:hover .rnp-slider-tick{opacity:.5}.rnp-slider-note{opacity:.5;font-size:12px;display:block;margin-top:-10px;margin-bottom:10px}.rnp-checkbox-wrapper:last-of-type+.rnp-slider-note{margin-bottom:0}.rnp-select-group-wrapper{display:flex;flex-direction:column;margin-bottom:15px}.rnp-select-group-label{margin-right:10px;margin-bottom:10px}.rnp-select-group{display:flex;flex-direction:row;flex-wrap:nowrap;align-content:stretch;flex:1;gap:1px}.rnp-select-group-btn{flex:1;background-color:rgba(223,225,228,.2);border:none;border-radius:0;padding-top:4px;padding-bottom:4px;transition:background-color .3s ease}.rnp-select-group-btn:first-child{border-radius:6px 0 0 6px}.rnp-select-group-btn:last-child{border-radius:0 6px 6px 0}.rnp-select-group-btn.selected{background-color:var(--rnp-accent-color);font-weight:bold}#rnp-settings-menu{position:fixed;z-index:10;right:30px;top:100px;font-size:16px;backdrop-filter:blur(30px);background:rgba(0,0,0,.1333333333);padding:16px 20px;border-radius:10px;transition:all .3s ease;transform:translateY(-10px);opacity:0;pointer-events:none;display:flex;gap:20px}.rnp-group-title{margin-bottom:15px;font-size:17px;opacity:.6;font-weight:bold}#rnp-settings{appearance:none;position:fixed;right:30px;top:65px;background-color:rgba(0,0,0,0);border:none;background-image:url('+p+');background-repeat:no-repeat;background-size:contain;filter:invert(1);width:20px;height:20px;color:rgba(0,0,0,0);opacity:0;transition:opacity .3s ease,top .3s ease,right .3s ease;cursor:pointer;z-index:9}body:hover #rnp-settings{opacity:.2}#rnp-settings:checked{opacity:1 !important}#rnp-settings:hover{opacity:.7}#rnp-settings:checked+#rnp-settings-menu{pointer-events:all;opacity:1;transform:none}body:not(.partial-bg) .bg-opacity,body:not(.rnp-bg-blur) .bg-blur,body:not(.rnp-bg-gradient) .gradient-bg-dynamic,body:not(.rnp-bg-gradient) .bg-dim-for-gradient-bg,body:not(.rnp-bg-blur) .bg-dim,body:not(.rnp-bg-fluid) .bg-dim-for-fluid-bg{opacity:0;height:0;padding-bottom:0;margin-bottom:0;pointer-events:none}body:not(.applemusic-like-lyrics) .only-visible-with-amll{display:none}body.applemusic-like-lyrics #rnp-settings-menu{padding-bottom:50px}body.applemusic-like-lyrics #rnp-settings-menu::before{content:"检测到 Apple Music-Like Lyrics, 一些选项将不可用";position:absolute;bottom:15px;font-size:16px;opacity:.6}body.applemusic-like-lyrics #rnp-settings-menu .incompatible-with-amll{opacity:.1;pointer-events:none;overflow:hidden}body.applemusic-like-lyrics.use-amll-bg #rnp-settings-menu .use-amll-bg~*{opacity:.1;pointer-events:none;overflow:hidden}',""]);const d=u},99:(t,e,n)=>{n.d(e,{Z:()=>w});var r=n(738),o=n.n(r),i=n(705),a=n.n(i),s=n(742),c=n.n(s),l=new URL(n(715),n.b),u=new URL(n(123),n.b),p=new URL(n(503),n.b),d=new URL(n(849),n.b),g=new URL(n(986),n.b),h=a()(o()),m=c()(l),f=c()(u),b=c()(p),y=c()(d),v=c()(g);h.push([t.id,'body{filter:none !important}.n-single .cdin,.n-single .cdimg{width:95%;height:95%}.n-single .cdimg{background-image:linear-gradient(rgba(255, 255, 255, 0.3), rgba(255, 255, 255, 0.3));background-size:cover;background-position:center;background-repeat:no-repeat;will-change:background-image;transition-property:background-image,opacity;transition-duration:1s,.1s}.n-single .cdimg::before{content:"";display:block;width:24px;height:24px;position:absolute;left:50%;top:50%;transform:translate(-50%, -50%);-webkit-mask-size:contain;-webkit-mask-repeat:no-repeat;-webkit-mask-image:url('+m+');background:var(--rnp-accent-color-shade-2);width:50px;height:50px;z-index:2;opacity:0;transition:opacity .3s ease .2s;will-change:opacity}.n-single .cdimg::after{content:"";display:block;position:absolute;left:-2px;right:-2px;top:-2px;bottom:-2px;background:rgba(0,0,0,.4);backdrop-filter:blur(16px);opacity:0;transition:opacity .3s ease;will-change:opacity}.n-single .cdimg.loading::before,.n-single .cdimg.loading::after{opacity:1}.n-single>.wrap{max-width:max(80%,1500px)}.g-single-track .content{flex:0;width:100%;position:absolute;left:min(5vw,30px);bottom:clamp(30px,5%,60px);display:flex;flex-direction:column;flex-wrap:nowrap;max-width:100%}.g-single-track .g-bd2{max-width:min(1500px,80%);scroll-snap-align:start}.g-single-track .n-single{height:100%;max-height:unset;scroll-snap-align:start}.g-single-track .g-singlec-ct .n-single .sd{width:clamp(200px,20vw,500px);margin:0;margin-left:50px}.g-single-track .g-singlec-ct .n-single .mn{width:50vw;display:flex;position:static;flex:0;max-width:unset}.g-single-track .g-singlec-ct .n-single .mn .head{flex:0;width:100%}.g-single-track .g-singlec-ct .n-single .mn .head .inf .title{text-align:left;height:auto;margin-bottom:10px}.g-single-track .g-singlec-ct .n-single .mn .head .inf .title h1{font-size:clamp(45px,5vh,600px);width:100%;max-width:unset}.g-single-track .g-singlec-ct .n-single .mn .head .inf .title h1 .name .name-inner{width:max-content}.g-single-track .g-singlec-ct .n-single .mn .head .inf .title h1 .name.scroll{animation-name:title-mask;animation-duration:var(--scroll-speed);animation-direction:alternate;animation-iteration-count:infinite;animation-timing-function:linear}.g-single-track .g-singlec-ct .n-single .mn .head .inf .title h1 .name.scroll:hover{animation-play-state:paused}.g-single-track .g-singlec-ct .n-single .mn .head .inf .title h1 .name.scroll:hover .name-inner{animation-play-state:paused}.g-single-track .g-singlec-ct .n-single .mn .head .inf .title h1 .name.scroll .name-inner{animation-name:title-scroll;animation-duration:var(--scroll-speed);animation-direction:alternate;animation-iteration-count:infinite;animation-timing-function:linear}@keyframes title-scroll{0%,5%{transform:translateX(0)}95%,100%{transform:translateX(calc(0px - var(--scroll-offset)))}}@keyframes title-mask{0%{-webkit-mask-image:linear-gradient(90deg, rgb(255, 255, 255) 0%, rgb(255, 255, 255) 5%, rgb(255, 255, 255) 95%, rgba(0, 0, 0, 0) 100%)}10%,90%{-webkit-mask-image:linear-gradient(90deg, rgba(0, 0, 0, 0) 0%, rgb(255, 255, 255) 5%, rgb(255, 255, 255) 95%, rgba(0, 0, 0, 0) 100%)}100%{-webkit-mask-image:linear-gradient(90deg, rgba(0, 0, 0, 0) 0%, rgb(255, 255, 255) 5%, rgb(255, 255, 255) 95%, rgb(255, 255, 255) 100%)}}.g-single-track .g-singlec-ct .n-single .mn .head .inf .info ul{flex-wrap:wrap;flex-direction:column}.g-single-track .g-singlec-ct .n-single .mn .head .inf .info ul li{max-width:unset;width:100%;text-align:left}.g-single-track .g-singlec-ct .n-single .mn .head .inf .info .alias{order:-1;font-size:20px;height:auto;line-height:2;margin-top:-5px;max-width:100%;overflow:hidden}.g-single-track .g-singlec-ct .n-single .mn .head .inf .info .alias:not(:has(*)){height:0 !important}.g-single-track .g-singlec-ct .n-single .mn .head .inf .info{display:flex;flex-direction:column}.g-single-track .g-singlec-ct .n-single .mn .head .inf .info ul li{font-size:0}.g-single-track .g-singlec-ct .n-single .mn .head .inf .info ul li a{font-size:16px;transition:color .3s ease}.g-single-track .g-singlec-ct .n-single .mn .head .inf .info ul li a:hover{color:#fff}.g-single-track .g-singlec-ct .n-single .mn .head .inf .info ul li a::before{content:"";display:inline-block;width:22px;height:15px;background-repeat:no-repeat;background-position:left;background-size:contain;transform:translateY(2px);filter:invert(1);opacity:.4;pointer-events:none}.g-single-track .g-singlec-ct .n-single .mn .head .inf .info ul li:nth-of-type(1) a::before{background-image:url('+f+");transform:translate(1px, 2px)}.g-single-track .g-singlec-ct .n-single .mn .head .inf .info ul li:nth-of-type(2) a::before{background-image:url("+b+");height:18px;transform:translateY(3px)}.g-single-track .g-singlec-ct .n-single .mn .head .inf .info ul li:nth-of-type(3) a::before{background-image:url("+y+');height:17px;transform:translate(1px, 2px)}.g-single-track .g-singlec-ct .n-single .mn .head .inf{max-width:unset}.g-single-track .g-singlec-ct .n-single .mn .lyric{position:absolute;left:50vw;width:40%;bottom:10vh;height:50vh;overflow:visible;z-index:-1}.g-single-track .g-singlec-ct .n-single .head .title h1 .name{white-space:nowrap;max-width:calc(100% - 10px);animation:none;overflow:hidden}.g-single-track .g-singlec-ct .n-single .mn .head .inf .title h1 .tag-wrap{display:inline-block;opacity:0;transition:opacity .3s ease;vertical-align:bottom;position:absolute;font-size:35px;top:calc(-35px - .1em);left:3px;user-select:none}.g-single-track .g-singlec-ct .n-single .mn .head .inf:hover .title h1 .tag-wrap{opacity:.4}.g-single-track .g-singlec-ct .n-single .mn .head .inf:hover .title h1 .tag-wrap:hover{opacity:.8}.g-single-track .g-singlec-ct .n-single .mn .head .inf .title h1 .tag-wrap svg{fill:#fff;position:absolute;left:0;top:0}.g-single-track .g-singlec-ct .n-single .mn .head .inf .info ul li:nth-of-type(1) a:not(:first-of-type):before{background-image:none;content:"/";color:#fff;filter:none;width:max-content;height:auto;margin-left:2px;margin-right:3px;transform:none}.g-single-track .g-singlec-ct .n-single .mn .head .inf{transform:translateY(16px);transition:transform .3s ease}.g-single-track .g-singlec-ct .n-single .mn .head .inf .info ul li{opacity:.5;transition:opacity .3s ease}.g-single-track .g-singlec-ct .n-single .mn .head .inf .info ul li:nth-of-type(3){opacity:0}.g-single-track .g-singlec-ct .n-single .mn .head .inf:hover .info ul li{opacity:1}.g-single-track .g-singlec-ct .n-single .mn .head .inf:hover .info ul li:nth-of-type(3){opacity:.4}.g-single-track .g-singlec-ct .n-single .mn .head .inf:hover .info ul:hover li:nth-of-type(3){opacity:1}.g-single-track .g-singlec-ct .n-single .sd .cd{-webkit-transform:none !important;margin-top:0 !important;-webkit-transition:none !important}.g-single-track .g-singlec-ct .n-single .sd .cdrun{display:none}.g-single-track .g-singlec-ct .n-single .cdbox{display:none}.g-single-track .g-singlec-ct .n-single .cdbg{border-radius:1000px}.g-singlec-comment,.g-singlec-comment-detail,.g-singlec-comment-top{font-size:0;background:rgba(0,0,0,.1333333333) !important;color:rgba(0,0,0,0);backdrop-filter:blur(36px);opacity:0 !important;border:none !important;min-width:36px;width:36px;pointer-events:none !important}body.mq-playing-scroll .g-singlec-comment,body.mq-playing-scroll .g-singlec-comment-detail,body.mq-playing-scroll .g-singlec-comment-top{pointer-events:auto !important;opacity:.8 !important}body.mq-playing-scroll .g-singlec-comment:hover,body.mq-playing-scroll .g-singlec-comment-detail:hover,body.mq-playing-scroll .g-singlec-comment-top:hover{opacity:1 !important}.g-singlec-comment-top{transform:translateX(148px) !important}.g-singlec-comment-detail.z-show{padding:0;left:unset;right:calc(26% + 6px - 148px)}.g-singlec-comment-detail.z-show svg{margin:0}body:not(.mq-playing) .sd .together-head,body:not(.mq-playing) .sd .together-text,body.mq-playing-scroll .sd .together-head,body.mq-playing-scroll .sd .together-text{opacity:0}.n-single .sd .together-head{margin:0;left:-20%;justify-content:left;top:60px;left:20px;position:fixed;z-index:3;transition:opacity .2s ease !important}.n-single .sd .together-head .ear_left,.n-single .sd .together-head .ear_right{display:none}.n-single .sd .together-head .wrap::after{display:none}.n-single .sd .together-head .face-1,.n-single .sd .together-head .face-2{width:30px;height:30px}.n-single .sd .together-head .face-2{margin-left:15px}.n-single .sd .together-text{position:fixed;top:82px;left:104px;transform:none;text-align:left;z-index:3;transition:opacity .2s ease !important}.m-playlrc .word .text{overscroll-behavior:contain}.m-playlrc .word .text .z-crt p{font-size:var(--font-size-lyric-current, 1.3rem) !important;color:var(--rnp-accent-color-shade-1)}.m-playlrc .word .j-line:not(.z-crt) p{font-size:var(--font-size-lyric, 1.05rem) !important;will-change:font-size,color}.m-playlrc .j-line.J-line-matchedscroll{color:var(--rnp-accent-color-shade-2) !important}.m-playlrc .word .text .z-crt p:not(:last-child){margin-bottom:calc(10px*var(--font-size-lyric-current, 1.3rem)/1.3rem) !important}.m-playlrc .word .text .z-crt p.translated{opacity:.8}.m-playlrc .word .text p{transition:all .5s cubic-bezier(0.5, 0, 0.14, 1);transition-delay:.2s;line-height:1.45 !important}.m-playlrc>article>.central-line-block:not(.invisible)+div .j-line p{transition-delay:0s !important}.m-playlrc .supplier,.m-playlrc .noword{opacity:0;transition:opacity .5s ease !important;transition-delay:0s !important}body.adjusting-lyric-size .m-playlrc .word .text p{transition:none !important;transition-delay:0s !important}.m-playlrc:hover .supplier,.m-playlrc:hover .noword{opacity:1}body.mq-playing .g-hd .m-leftbox{opacity:0;transition:opacity .3s ease}body.mq-playing .g-hd:hover .m-leftbox{opacity:1}body.mq-playing .g-hd .m-sch{display:none}body.mq-playing.mq-playing-fullscreen .g-hd .m-leftbox{opacity:1 !important}body.mq-playing #main-player{background:rgba(0,0,0,0)}body.mq-playing:not(.mq-playing-scroll) #main-player,body.mq-playing.partial-bg #main-player{border:none}body.mq-playing .m-player .prg .has{background:rgba(var(--rnp-accent-color-shade-1-rgb), 0.8)}body.mq-playing .m-player .prg .ctrl::before,body.mq-playing .m-player .prg .ctrl::after{background:var(--rnp-accent-color-shade-1)}body.mq-playing .m-player .prg-ply .ctrl{width:8px;height:8px;padding:6px;opacity:0;transform:scale(0.8);transition:opacity .2s ease,transform .2s ease}body.mq-playing .m-player .prg-ply:hover .ctrl{opacity:1;transform:scale(1)}body.mq-playing .m-player .prg-ply:hover .ctrl::before{transform:none}body.mq-playing .m-player .prg-ply .ctrl::before{border-radius:10px;transition:width .2s ease,transform .2s ease}body.mq-playing .m-pinfo .zoom{display:none}body.mq-playing .m-pinfo .btns{left:16px}body.mq-playing .m-pinfo .btn:not(.btn-love),body.mq-playing #main-player>*:not(.f-cp,.prg,time),body.mq-playing #main-player>.audioEffect,body.mq-playing #main-player>.spk,body.mq-playing #main-player>.listenTogether,body.mq-playing #main-player>.list{opacity:0;transition:opacity .3s ease,background .3s ease}body.bottombar-hover .m-pinfo .btn:not(.btn-love),body.bottombar-hover #main-player>*:not(.f-cp,.prg,time),body.bottombar-hover #main-player>.audioEffect,body.bottombar-hover #main-player>.spk,body.bottombar-hover #main-player>.listenTogether,body.bottombar-hover #main-player>.list,body.mq-playing-scroll .m-pinfo .btn:not(.btn-love),body.mq-playing-scroll #main-player>*:not(.f-cp,.prg,time),body.mq-playing-scroll #main-player>.audioEffect,body.mq-playing-scroll #main-player>.spk,body.mq-playing-scroll #main-player>.listenTogether,body.mq-playing-scroll #main-player>.list{opacity:.9999999}body.mq-playing .m-pinfo .btn-love{border-color:rgba(0,0,0,0);transition:border-color .3s ease,background-color .3s ease;position:relative}body.bottombar-hover .btn-love,body.mq-playing-scroll .btn-love{border-color:rgba(255,255,255,.1) !important}body.mq-playing .m-pinfo .btn-love.loved:before{content:"";display:block;position:absolute;left:0;top:0;width:100%;height:100%;background-color:var(--rnp-accent-color);-webkit-mask-image:url('+v+');-webkit-mask-repeat:no-repeat;-webkit-mask-position:center;-webkit-mask-size:24px;opacity:1}body.mq-playing .m-pinfo .btn-love.loved svg{display:none}svg.labelVip.labelVip.labelVip{fill:rgba(0,0,0,0);opacity:0;transition:opacity .3s ease}.m-pinfo .btn:hover .labelVip{opacity:1}body.mq-playing .m-player .prg:not(:hover) .track{background-color:rgba(var(--rnp-accent-color-rgb), 0.1)}body.mq-playing .m-player .prg .track{background-color:rgba(var(--rnp-accent-color-shade-1-rgb), 0.25)}body.mq-playing .m-player .prg:not(:hover) .has{background:rgba(var(--rnp-accent-color-rgb), 0.53333)}body.mq-playing .m-player .prg:not(:hover) .download{background:rgba(var(--rnp-accent-color-rgb), 0.1)}body.mq-playing .m-player .prg:not(:hover) .ctrl::before,.m-player .prg .ctrl::after{background:var(--rnp-accent-color)}body.mq-playing .m-player .prg *{border-radius:10px !important}.m-player time.now{left:calc(50% - 227px)}.m-player time.all{right:calc(50% - 227px)}.m-player .prg-ply{left:calc(50% - 186px);right:calc(50% - 186px)}body.mq-playing .m-player .btnc svg,body.mq-playing .m-player .btnp svg,body.mq-playing .m-player .type svg,body.mq-playing .m-player .word svg{opacity:.5;transition:opacity .3s ease,fill .2s ease}body.mq-playing .m-player .type svg,body.mq-playing .m-player .word svg{opacity:0}body.bottombar-hover .m-player .btnc svg,body.bottombar-hover .m-player .btnp svg,body.bottombar-hover .m-player .type svg,body.bottombar-hover .m-player .word svg,body.mq-playing-scroll .m-player .btnc svg,body.mq-playing-scroll .m-player .btnp svg,body.mq-playing-scroll .m-player .type svg,body.mq-playing-scroll .m-player .word svg{opacity:1}body.mq-playing .m-player .btnp{transition:background-color .25s ease}body.mq-playing .m-player .prg-spk{box-shadow:none;background:rgba(0,0,0,.0823529412);backdrop-filter:blur(36px);border-radius:100px}body.mq-playing .m-player .prg-spk::before{display:none}body.mq-playing .m-player .prg-spk::after{display:none}body.mq-playing .m-player .prg-spk .track::before{background:rgba(var(--rnp-accent-color-rgb), 0.1)}body.mq-playing .m-player .prg-spk .has::before{background:var(--rnp-accent-color)}body.mq-playing .m-player .prg-spk .ctrl{background-color:var(--rnp-accent-color)}body.mq-playing .m-player .brt .brttext.vip{color:var(--rnp-accent-color);border-color:var(--rnp-accent-color)}body.mq-playing .m-playlist{background:rgba(0,0,0,.1333333333);backdrop-filter:blur(36px) brightness(0.8);border-radius:16px}body.mq-playing .m-playlist li.z-play .col-2 .tit,body.mq-playing .m-playlist li.z-play .col-4 a,body.mq-playing .m-playlist li.z-pause .col-2 .tit,body.mq-playing .m-playlist li.z-pause .col-4 a{color:var(--rnp-accent-color) !important}body.mq-playing .m-playlist li::before,body.mq-playing .m-playlist .ico-mv,body.mq-playing .m-playlist .ico-sq,body.mq-playing .u-micn-sq,body.mq-playing .SpriteIcon_hires,body.mq-playing .SpriteIcon_originalSong,body.mq-playing .SpriteIcon_dolby{background:var(--rnp-accent-color);opacity:.5}.g-single-track .g-singlec-ct .n-single .mn .lyric .cnt>div:first-child:not(.inf){display:none}.g-singlec-live{display:none}body.mq-playing .m-player .word.z-light svg,body.mq-playing .m-player .type:hover svg,body.mq-playing .m-player .btnc-prv:hover svg,body.mq-playing .m-player .btnc-nxt:hover svg,body.mq-playing .m-player .word:hover svg{fill:var(--rnp-accent-color)}body.mq-playing .s-fc2,body.mq-playing .s-fc2:hover{color:var(--rnp-accent-color)}body.mq-playing .s-fc2:hover{filter:brightness(1.1)}body.mq-playing .m-player .btnc svg,body.mq-playing .m-player .btnp svg{fill:var(--rnp-accent-color-shade-2)}body.lyric-blur:not(.adjusting-lyric-size) .m-playlrc .word .j-line:not(.z-crt){filter:blur(4px)}body.lyric-blur:not(.adjusting-lyric-size) .m-playlrc:hover .word .j-line:not(.z-crt),body.lyric-blur:not(.adjusting-lyric-size) .m-playlrc>article>.central-line-block:not(.invisible)+div .j-line:not(.z-crt){filter:none}body.lyric-blur:not(.adjusting-lyric-size) .m-playlrc .word .j-line{transition:filter .5s ease;will-change:filter}body.rectangle-cover .n-single .cdin,body.rectangle-cover .n-single .cdimg{border-radius:16px;box-shadow:0 10px 10px rgba(0,0,0,.05),0 0px 20px rgba(0,0,0,.06)}body.rectangle-cover .n-single .cdwrap{animation:none}body.rectangle-cover .n-single .cdwrap>*{-webkit-transform:translate3d(-50%, -50%, 0) !important}body.rectangle-cover .n-single .cdbg{display:none}body.rectangle-cover .g-single-track .g-singlec-ct .n-single .sd{width:clamp(200px,20vw,400px)}body.use-notosans .g-single-track .g-singlec-ct .n-single .mn .lyric,body.use-notosans .n-single .head *{font-family:"Source Han Sans CN","noto sans","思源黑体" !important}body.hide-comments .g-single-track .g-bd2{display:none}body.hide-comments .g-singlec-ct{overflow-y:hidden}body.partial-bg .rnp-bg{left:30px;top:60px;width:calc(100% - 60px);height:calc(100% - 133px);border-radius:16px;opacity:var(--bg-opacity, 1)}body.partial-bg #rnp-settings{right:50px;top:85px}body.partial-bg #rnp-settings-menu{right:50px;top:120px}body:not(.enable-accent-color),body:not([style*="--rnp-accent-color"]){--rnp-accent-color: #aaa !important;--rnp-accent-color-rgb: 170, 170, 170 !important;--rnp-accent-color-shade-1: #eee !important;--rnp-accent-color-shade-1-rgb: 238, 238, 238 !important;--rnp-accent-color-shade-2: #fff !important;--rnp-accent-color-shade-2-rgb: 255, 255, 255 !important}body:not(.enable-accent-color) #rnp-settings-menu,body:not([style*="--rnp-accent-color"]) #rnp-settings-menu{--rnp-accent-color: #ffffff55}body.mq-playing:not(.enable-accent-color) .m-pinfo .btn-love.loved:before{background-color:#ec4141}body:not(.lyric-break-word) .m-playlrc .word .text .z-crt p{word-break:break-all}body.applemusic-like-lyrics .g-single .g-single-track .n-single{display:block !important;height:0;width:0;overflow:visible;margin-top:-90px}body.applemusic-like-lyrics .g-single .g-single-track .g-bd2{padding-top:220px}body.applemusic-like-lyrics .g-single .g-bd2 .recommend-btn{top:210px}body.applemusic-like-lyrics .g-single .n-single .mn .lyric{display:none}body.applemusic-like-lyrics .g-single .n-single .mn{width:45vw}body.applemusic-like-lyrics .g-single .head .inf .info .alias{max-width:45vw}body.applemusic-like-lyrics .g-single .n-single .mn .head .inf .title h1 .tag-wrap svg{width:100% !important;height:100% !important}body.applemusic-like-lyrics .g-single #applemusic-like-lyrics-view .am-music-info{opacity:0;pointer-events:none}body.applemusic-like-lyrics .g-single #applemusic-like-lyrics-view .am-lyric-dots>*{box-shadow:none}body.applemusic-like-lyrics.enable-accent-color .g-single{--applemusic-like-lyrics-font-color: var(--rnp-accent-color-shade-1, white)}body.applemusic-like-lyrics:not(.use-amll-bg) .am-lyric-background{display:none}body.applemusic-like-lyrics.mq-playing-scroll #main-player{backdrop-filter:blur(100px)}',""]);const w=h},379:t=>{var e=[];function n(t){for(var n=-1,r=0;r<e.length;r++)if(e[r].identifier===t){n=r;break}return n}function r(t,r){for(var i={},a=[],s=0;s<t.length;s++){var c=t[s],l=r.base?c[0]+r.base:c[0],u=i[l]||0,p="".concat(l," ").concat(u);i[l]=u+1;var d=n(p),g={css:c[1],media:c[2],sourceMap:c[3],supports:c[4],layer:c[5]};if(-1!==d)e[d].references++,e[d].updater(g);else{var h=o(g,r);r.byIndex=s,e.splice(s,0,{identifier:p,updater:h,references:1})}a.push(p)}return a}function o(t,e){var n=e.domAPI(e);n.update(t);return function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap&&e.supports===t.supports&&e.layer===t.layer)return;n.update(t=e)}else n.remove()}}t.exports=function(t,o){var i=r(t=t||[],o=o||{});return function(t){t=t||[];for(var a=0;a<i.length;a++){var s=n(i[a]);e[s].references--}for(var c=r(t,o),l=0;l<i.length;l++){var u=n(i[l]);0===e[u].references&&(e[u].updater(),e.splice(u,1))}i=c}}},569:t=>{var e={};t.exports=function(t,n){var r=function(t){if(void 0===e[t]){var n=document.querySelector(t);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(t){n=null}e[t]=n}return e[t]}(t);if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(n)}},216:t=>{t.exports=function(t){var e=document.createElement("style");return t.setAttributes(e,t.attributes),t.insert(e,t.options),e}},565:(t,e,n)=>{t.exports=function(t){var e=n.nc;e&&t.setAttribute("nonce",e)}},795:t=>{t.exports=function(t){var e=t.insertStyleElement(t);return{update:function(n){!function(t,e,n){var r="";n.supports&&(r+="@supports (".concat(n.supports,") {")),n.media&&(r+="@media ".concat(n.media," {"));var o=void 0!==n.layer;o&&(r+="@layer".concat(n.layer.length>0?" ".concat(n.layer):""," {")),r+=n.css,o&&(r+="}"),n.media&&(r+="}"),n.supports&&(r+="}");var i=n.sourceMap;i&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(i))))," */")),e.styleTagTransform(r,t,e.options)}(e,t,n)},remove:function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(e)}}}},589:t=>{t.exports=function(t,e){if(e.styleSheet)e.styleSheet.cssText=t;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(t))}}},715:t=>{t.exports="data:image/svg+xml,%0A%3Csvg width=%2724%27 height=%2724%27 stroke=%27%23000%27 viewBox=%270 0 24 24%27 xmlns=%27http://www.w3.org/2000/svg%27%3E%3Cstyle%3E.spinner_V8m1%7Btransform-origin:center;animation:spinner_zKoa 2s linear infinite%7D.spinner_V8m1 circle%7Bstroke-linecap:round;animation:spinner_YpZS 1.5s ease-in-out infinite%7D@keyframes spinner_zKoa%7B100%25%7Btransform:rotate%28360deg%29%7D%7D@keyframes spinner_YpZS%7B0%25%7Bstroke-dasharray:0 150;stroke-dashoffset:0%7D47.5%25%7Bstroke-dasharray:42 150;stroke-dashoffset:-16%7D95%25,100%25%7Bstroke-dasharray:42 150;stroke-dashoffset:-59%7D%7D%3C/style%3E%3Cg class=%27spinner_V8m1%27%3E%3Ccircle cx=%2712%27 cy=%2712%27 r=%279.5%27 fill=%27none%27 stroke-width=%273%27%3E%3C/circle%3E%3C/g%3E%3C/svg%3E"},986:t=>{t.exports="data:image/svg+xml,%3Csvg xmlns=%27http://www.w3.org/2000/svg%27 viewBox=%270 0 24 24%27 id=%27icon24_liked%27%3E%3Cpath d=%27M15.2 4.5c3 0 5.3 2.6 5.3 5.8 0 2.6-1.3 4.9-3.9 7.1-.9.8-1.9 1.5-2.9 2.2l-.9.6c-.2.1-.3.2-.4.2-.3.1-.6.1-.8 0-.1 0-.2-.1-.4-.2l-.9-.6c-1-.7-2-1.4-2.9-2.2-2.6-2.2-3.9-4.5-3.9-7.1 0-3.2 2.4-5.8 5.3-5.8 1.2 0 2.3.4 3.2 1.1.9-.7 2-1.1 3.2-1.1z%27 fill=%27%23000%27%3E%3C/path%3E%3C/svg%3E"},48:t=>{t.exports="data:image/svg+xml,%3Csvg xmlns=%27http://www.w3.org/2000/svg%27 viewBox=%270 0 384 512%27%3E%3C%21--%21 Font Awesome Pro 6.2.1 by %40fontawesome - https://fontawesome.com License - https://fontawesome.com/license %28Commercial License%29 Copyright 2022 Fonticons  Inc. --%3E%3Cpath d=%27M192 64L160 0H128L96 64 64 0H48C21.5 0 0 21.5 0 48V256H384V48c0-26.5-21.5-48-48-48H224L192 64zM0 288v32c0 35.3 28.7 64 64 64h64v64c0 35.3 28.7 64 64 64s64-28.7 64-64V384h64c35.3 0 64-28.7 64-64V288H0zM192 464c-8.8 0-16-7.2-16-16s7.2-16 16-16s16 7.2 16 16s-7.2 16-16 16z%27/%3E%3C/svg%3E"},503:t=>{t.exports="data:image/svg+xml,%3Csvg xmlns=%27http://www.w3.org/2000/svg%27 viewBox=%270 0 512 512%27%3E%3C%21-- Font Awesome Pro 6.0.0-alpha2 by %40fontawesome - https://fontawesome.com License - https://fontawesome.com/license %28Commercial License%29 --%3E%3Cpath d=%27M256 16C123.461 16 16 123.419 16 256S123.461 496 256 496S496 388.581 496 256S388.539 16 256 16ZM80.715 256H79.627C70.549 256 63.229 247.99 64.065 238.658C72.364 146.017 146.49 72.06 239.274 64.055C248.291 63.278 256 70.791 256 80.132V80.132C256 88.482 249.786 95.363 241.727 96.077C164.745 102.898 103.148 164.347 96.153 241.354C95.401 249.634 88.771 256 80.715 256ZM256 352C202.976 352 160 309 160 256S202.976 160 256 160S352 203 352 256S309.024 352 256 352ZM256 224C238.303 224 224 238.25 224 256S238.303 288 256 288C273.697 288 288 273.75 288 256S273.697 224 256 224Z%27/%3E%3C/svg%3E"},849:t=>{t.exports="data:image/svg+xml,%3Csvg xmlns=%27http://www.w3.org/2000/svg%27 viewBox=%270 0 512 512%27%3E%3C%21-- Font Awesome Pro 6.0.0-alpha2 by %40fontawesome - https://fontawesome.com License - https://fontawesome.com/license %28Commercial License%29 --%3E%3Cpath d=%27M464 96H272L208 32H48C21.5 32 0 53.5 0 80V432C0 458.5 21.5 480 48 480H464C490.5 480 512 458.5 512 432V144C512 117.5 490.5 96 464 96ZM352 352C352 369.625 330.5 384 304 384S256 369.625 256 352S277.5 320 304 320C309.375 320 314.75 320.75 320 322.001V245.625L224 283.125V384C224 401.625 202.5 416 176 416S128 401.625 128 384S149.5 352 176 352C181.375 352 186.75 352.75 192 354.001V239.25C192 232.25 196.5 226.125 203.25 224L331.25 176.75C336 175.25 341.375 176.125 345.5 179.125S352 186.875 352 192V352Z%27/%3E%3C/svg%3E"},123:t=>{t.exports="data:image/svg+xml,%3Csvg xmlns=%27http://www.w3.org/2000/svg%27 viewBox=%270 0 640 512%27%3E%3C%21-- Font Awesome Pro 6.0.0-alpha2 by %40fontawesome - https://fontawesome.com License - https://fontawesome.com/license %28Commercial License%29 --%3E%3Cpath d=%27M389.418 347.664C358.834 320.578 318.732 304 274.664 304H173.336C77.609 304 0 381.602 0 477.332C0 496.477 15.523 512 34.664 512H355.193C333.4 493.432 320 468.27 320 440C320 399.045 348.041 364.709 389.418 347.664ZM224 256C294.695 256 352 198.691 352 128S294.695 0 224 0C153.312 0 96 57.309 96 128S153.312 256 224 256ZM601.725 160.631L505.725 179.832C490.768 182.824 480 195.957 480 211.211V372.408C469.945 369.727 459.281 368 448 368C394.98 368 352 400.234 352 440C352 479.764 394.98 512 448 512S544 479.764 544 440V300.176L614.275 286.121C629.232 283.131 640 269.996 640 254.742V192.01C640 171.816 621.525 156.672 601.725 160.631Z%27/%3E%3C/svg%3E"}},e={};function n(r){var o=e[r];if(void 0!==o)return o.exports;var i=e[r]={id:r,exports:{}};return t[r](i,i.exports,n),i.exports}n.m=t,n.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return n.d(e,{a:e}),e},n.d=(t,e)=>{for(var r in e)n.o(e,r)&&!n.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),n.b=document.baseURI||self.location.href,n.nc=void 0,(()=>{var t=n(379),e=n.n(t),r=n(795),o=n.n(r),a=n(569),s=n.n(a),c=n(565),l=n.n(c),u=n(216),p=n.n(u),d=n(589),g=n.n(d),h=n(99),m={};m.styleTagTransform=g(),m.setAttributes=l(),m.insert=s().bind(null,"head"),m.domAPI=o(),m.insertStyleElement=p();e()(h.Z,m);h.Z&&h.Z.locals&&h.Z.locals;var f=n(264),b={};b.styleTagTransform=g(),b.setAttributes=l(),b.insert=s().bind(null,"head"),b.domAPI=o(),b.insertStyleElement=p();e()(f.Z,b);f.Z&&f.Z.locals&&f.Z.locals;function y(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i,a,s=[],c=!0,l=!1;try{if(i=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(t){l=!0,o=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw o}}return s}}(t,e)||v(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(t,e){if(t){if("string"==typeof t)return w(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?w(t,e):void 0}}function w(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var x=function(t){var e=y(t,3),n=e[0],r=e[1],o=e[2];n/=255,r/=255,o/=255;var i,a,s=Math.max(n,r,o),c=Math.min(n,r,o),l=(s+c)/2;if(s==c)i=a=0;else{var u=s-c;switch(a=l>.5?u/(2-s-c):u/(s+c),s){case n:i=(r-o)/u+(r<o?6:0);break;case r:i=(o-n)/u+2;break;case o:i=(n-r)/u+4}i/=6}return[i,a,l]},k=function(t){var e=y(t.map((function(t){return t/255})),3),n=e[0],r=e[1],o=e[2],i=y([n,r,o].map((function(t){return t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4)})),3);return.2126*(n=i[0])+.7152*(r=i[1])+.0722*(o=i[2])},C=function(t){var e=y(t.map((function(t){return t/255})),3),n=e[0],r=e[1],o=e[2],i=y([n,r,o].map((function(t){return t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4)})),3),a=y([n=i[0],r=i[1],o=i[2]].map((function(t){return 100*t})),3),s=.4124*(n=a[0])+.3576*(r=a[1])+.1805*(o=a[2]),c=.2126*n+.7152*r+.0722*o,l=.0193*n+.1192*r+.9505*o,u=function(t){return t>.008856?Math.pow(t,1/3):7.787*t+16/116};return[116*u(c/100)-16,500*(u(s/95.047)-u(c/100)),200*(u(c/100)-u(l/108.883))]},M=function(t){t=(t=(t=(t=t.sort((function(t,e){return k(t)-k(e)}))).slice(t.length/2-4,t.length/2+4)).sort((function(t,e){return x(e)[1]-x(t)[1]}))).slice(0,6);for(var e,n,r,o,i,a,s,c,l,u,p=new Array(6),d=0;d<p.length;d++)p[d]=new Array(6).fill(0);for(var g=0;g<t.length;g++)for(var h=g+1;h<t.length;h++)p[g][h]=(e=t[g],n=t[h],r=void 0,o=void 0,i=void 0,a=void 0,s=void 0,c=void 0,l=void 0,u=void 0,r=y(C(e),3),o=r[0],i=r[1],a=r[2],s=y(C(n),3),c=o-s[0],l=i-s[1],u=a-s[2],Math.sqrt(c*c+l*l+u*u)),p[h][g]=p[g][h];for(var m=new Array(6).fill(!1),f=1e7,b=[],w=function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1;if(6!==e)for(var o=0;o<6;o++)m[o]||(m[o]=!0,t(e+1,n.concat(o),Math.max(r,p[n[e-1]][o])),m[o]=!1);else r<f&&(f=r,b=n)},M=0;M<6;M++)m[M]=!0,w(1,[M]),m[M]=!1;var I,E=[],S=function(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=v(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}(b);try{for(S.s();!(I=S.n()).done;){var L=I.value;E.push(t[b[L]])}}catch(t){S.e(t)}finally{S.f()}for(var q="linear-gradient(-45deg,",A=0;A<E.length;A++)q+="rgb(".concat(E[A][0],", ").concat(E[A][1],", ").concat(E[A][2],")"),A!==E.length-1&&(q+=",");return q+=")"};function I(t){return function(t){if(Array.isArray(t))return E(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return E(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return E(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function E(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var S=n(217),L={};L.styleTagTransform=g(),L.setAttributes=l(),L.insert=s().bind(null,"head"),L.domAPI=o(),L.insertStyleElement=p();e()(S.Z,L);S.Z&&S.Z.locals&&S.Z.locals;if(!q)var q={map:function(t,e){var n={};return e?t.map((function(t,r){return n.index=r,e.call(n,t)})):t.slice()},naturalOrder:function(t,e){return t<e?-1:t>e?1:0},sum:function(t,e){var n={};return t.reduce(e?function(t,r,o){return n.index=o,t+e.call(n,r)}:function(t,e){return t+e},0)},max:function(t,e){return Math.max.apply(null,e?q.map(t,e):t)}};var A=function(){function t(t,e,n){return(t<<10)+(e<<5)+n}function e(t){var e=[],n=!1;function r(){e.sort(t),n=!0}return{push:function(t){e.push(t),n=!1},peek:function(t){return n||r(),void 0===t&&(t=e.length-1),e[t]},pop:function(){return n||r(),e.pop()},size:function(){return e.length},map:function(t){return e.map(t)},debug:function(){return n||r(),e}}}function n(t,e,n,r,o,i,a){this.r1=t,this.r2=e,this.g1=n,this.g2=r,this.b1=o,this.b2=i,this.histo=a}function r(){this.vboxes=new e((function(t,e){return q.naturalOrder(t.vbox.count()*t.vbox.volume(),e.vbox.count()*e.vbox.volume())}))}function o(e,n){if(n.count()){var r=n.r2-n.r1+1,o=n.g2-n.g1+1,i=q.max([r,o,n.b2-n.b1+1]);if(1==n.count())return[n.copy()];var a,s,c,l,u=0,p=[],d=[];if(i==r)for(a=n.r1;a<=n.r2;a++){for(l=0,s=n.g1;s<=n.g2;s++)for(c=n.b1;c<=n.b2;c++)l+=e[t(a,s,c)]||0;p[a]=u+=l}else if(i==o)for(a=n.g1;a<=n.g2;a++){for(l=0,s=n.r1;s<=n.r2;s++)for(c=n.b1;c<=n.b2;c++)l+=e[t(s,a,c)]||0;p[a]=u+=l}else for(a=n.b1;a<=n.b2;a++){for(l=0,s=n.r1;s<=n.r2;s++)for(c=n.g1;c<=n.g2;c++)l+=e[t(s,c,a)]||0;p[a]=u+=l}return p.forEach((function(t,e){d[e]=u-t})),function(t){var e,r,o,i,s,c=t+"1",l=t+"2",g=0;for(a=n[c];a<=n[l];a++)if(p[a]>u/2){for(o=n.copy(),i=n.copy(),s=(e=a-n[c])<=(r=n[l]-a)?Math.min(n[l]-1,~~(a+r/2)):Math.max(n[c],~~(a-1-e/2));!p[s];)s++;for(g=d[s];!g&&p[s-1];)g=d[--s];return o[l]=s,i[c]=o[l]+1,[o,i]}}(i==r?"r":i==o?"g":"b")}}return n.prototype={volume:function(t){return this._volume&&!t||(this._volume=(this.r2-this.r1+1)*(this.g2-this.g1+1)*(this.b2-this.b1+1)),this._volume},count:function(e){var n=this.histo;if(!this._count_set||e){var r,o,i,a=0;for(r=this.r1;r<=this.r2;r++)for(o=this.g1;o<=this.g2;o++)for(i=this.b1;i<=this.b2;i++)a+=n[t(r,o,i)]||0;this._count=a,this._count_set=!0}return this._count},copy:function(){return new n(this.r1,this.r2,this.g1,this.g2,this.b1,this.b2,this.histo)},avg:function(e){var n=this.histo;if(!this._avg||e){var r,o,i,a,s=0,c=0,l=0,u=0;for(o=this.r1;o<=this.r2;o++)for(i=this.g1;i<=this.g2;i++)for(a=this.b1;a<=this.b2;a++)s+=r=n[t(o,i,a)]||0,c+=r*(o+.5)*8,l+=r*(i+.5)*8,u+=r*(a+.5)*8;this._avg=s?[~~(c/s),~~(l/s),~~(u/s)]:[~~(8*(this.r1+this.r2+1)/2),~~(8*(this.g1+this.g2+1)/2),~~(8*(this.b1+this.b2+1)/2)]}return this._avg},contains:function(t){var e=t[0]>>3;return gval=t[1]>>3,bval=t[2]>>3,e>=this.r1&&e<=this.r2&&gval>=this.g1&&gval<=this.g2&&bval>=this.b1&&bval<=this.b2}},r.prototype={push:function(t){this.vboxes.push({vbox:t,color:t.avg()})},palette:function(){return this.vboxes.map((function(t){return t.color}))},size:function(){return this.vboxes.size()},map:function(t){for(var e=this.vboxes,n=0;n<e.size();n++)if(e.peek(n).vbox.contains(t))return e.peek(n).color;return this.nearest(t)},nearest:function(t){for(var e,n,r,o=this.vboxes,i=0;i<o.size();i++)((n=Math.sqrt(Math.pow(t[0]-o.peek(i).color[0],2)+Math.pow(t[1]-o.peek(i).color[1],2)+Math.pow(t[2]-o.peek(i).color[2],2)))<e||void 0===e)&&(e=n,r=o.peek(i).color);return r},forcebw:function(){var t=this.vboxes;t.sort((function(t,e){return q.naturalOrder(q.sum(t.color),q.sum(e.color))}));var e=t[0].color;e[0]<5&&e[1]<5&&e[2]<5&&(t[0].color=[0,0,0]);var n=t.length-1,r=t[n].color;r[0]>251&&r[1]>251&&r[2]>251&&(t[n].color=[255,255,255])}},{quantize:function(i,a){if(!i.length||a<2||a>256)return!1;var s=function(e){var n,r=new Array(32768);return e.forEach((function(e){n=t(e[0]>>3,e[1]>>3,e[2]>>3),r[n]=(r[n]||0)+1})),r}(i);s.forEach((function(){}));var c=function(t,e){var r,o,i,a=1e6,s=0,c=1e6,l=0,u=1e6,p=0;return t.forEach((function(t){(r=t[0]>>3)<a?a=r:r>s&&(s=r),(o=t[1]>>3)<c?c=o:o>l&&(l=o),(i=t[2]>>3)<u?u=i:i>p&&(p=i)})),new n(a,s,c,l,u,p,e)}(i,s),l=new e((function(t,e){return q.naturalOrder(t.count(),e.count())}));function u(t,e){for(var n,r=t.size(),i=0;i<1e3;){if(r>=e)return;if(i++>1e3)return;if((n=t.pop()).count()){var a=o(s,n),c=a[0],l=a[1];if(!c)return;t.push(c),l&&(t.push(l),r++)}else t.push(n),i++}}l.push(c),u(l,.75*a);for(var p=new e((function(t,e){return q.naturalOrder(t.count()*t.volume(),e.count()*e.volume())}));l.size();)p.push(l.pop());u(p,a);for(var d=new r;p.size();)d.push(p.pop());return d}}}().quantize,z=function(t){this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d"),this.width=this.canvas.width=t.naturalWidth,this.height=this.canvas.height=t.naturalHeight,this.context.drawImage(t,0,0,this.width,this.height)};z.prototype.getImageData=function(){return this.context.getImageData(0,0,this.width,this.height)};var T=function(){};T.prototype.getColor=function(t,e){return void 0===e&&(e=10),this.getPalette(t,5,e)[0]},T.prototype.getPalette=function(t,e,n){var r=function(t){var e=t.colorCount,n=t.quality;if(void 0!==e&&Number.isInteger(e)){if(1===e)throw new Error("colorCount should be between 2 and 20. To get one color, call getColor() instead of getPalette()");e=Math.max(e,2),e=Math.min(e,20)}else e=10;return(void 0===n||!Number.isInteger(n)||n<1)&&(n=10),{colorCount:e,quality:n}}({colorCount:e,quality:n}),o=new z(t),i=function(t,e,n){for(var r=t,o=[],i=0,a=void 0,s=void 0,c=void 0,l=void 0,u=void 0;i<e;i+=n)s=r[0+(a=4*i)],c=r[a+1],l=r[a+2],(void 0===(u=r[a+3])||u>=125)&&(s>250&&c>250&&l>250||o.push([s,c,l]));return o}(o.getImageData().data,o.width*o.height,r.quality),a=A(i,r.colorCount);return a?a.palette():null},T.prototype.getColorFromUrl=function(t,e,n){var r=this,o=document.createElement("img");o.addEventListener("load",(function(){var i=r.getPalette(o,5,n);e(i[0],t)})),o.src=t},T.prototype.getImageData=function(t,e){var n=new XMLHttpRequest;n.open("GET",t,!0),n.responseType="arraybuffer",n.onload=function(){if(200==this.status){var t=new Uint8Array(this.response);i=t.length;for(var n=new Array(i),r=0;r<t.length;r++)n[r]=String.fromCharCode(t[r]);var o=n.join(""),a=window.btoa(o);e("data:image/png;base64,"+a)}},n.send()},T.prototype.getColorAsync=function(t,e,n){var r=this;this.getImageData(t,(function(t){var o=document.createElement("img");o.addEventListener("load",(function(){var t=r.getPalette(o,5,n);e(t[0],this)})),o.src=t}))};const O=T;function R(t){return function(t){if(Array.isArray(t))return H(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||P(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i,a,s=[],c=!0,l=!1;try{if(i=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(t){l=!0,o=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw o}}return s}}(t,e)||P(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function P(t,e){if(t){if("string"==typeof t)return H(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?H(t,e):void 0}}function H(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var j=React.useState,F=React.useEffect,B=React.useRef,D=new O;function N(t){var e,n=_(j(null!==(e=t.type)&&void 0!==e?e:"blur"),2),r=n[0],o=n[1],i=_(j(""),2),a=i[0],s=i[1],c=t.image;return F((function(){var t=new MutationObserver((function(){c.src!==a&&c.complete&&s(c.src)}));t.observe(c,{attributes:!0,attributeFilter:["src"]});var e=function(){s(c.src)};return c.addEventListener("load",e),function(){t.disconnect(),c.removeEventListener("load",e)}}),[c]),F((function(){document.addEventListener("rnp-background-type",(function(t){var e;o(null!==(e=t.detail.type)&&void 0!==e?e:"blur")}))}),[]),React.createElement(React.Fragment,null,"blur"===r&&React.createElement(V,{url:a}),"gradient"===r&&React.createElement(G,{url:a}),"fluid"===r&&React.createElement(U,{url:a}))}function V(t){var e=B();return F((function(){t.url&&(e.current.style.backgroundImage="url(".concat(t.url,")"),e.current.style.transition="background-image 1.5s ease")}),[t.url]),React.createElement("div",{ref:e,className:"rnp-background-blur"})}function G(t){var e=_(j("linear-gradient(-45deg, #666, #fff)"),2),n=e[0],r=e[1];return F((function(){var e=new Image;e.crossOrigin="Anonymous",console.log("loading image"),e.onload=function(){console.log("image loaded");var t=D.getPalette(e);r(M(t))},e.src=t.url}),[t.url]),React.createElement("div",{className:"rnp-background-gradient",style:{backgroundImage:n}})}function U(t){var e=[B(),B(),B(),B()],n=e[0],r=e[1],o=e[2],i=e[3],a=[B(),B()],s=a[0],c=a[1],l=_(j("0"),2),u=l[0],p=l[1],d=B(document.querySelector("#main-player .btnp").classList.contains("btnp-pause")),g=function(t,e){d.current=document.querySelector("#main-player .btnp").classList.contains("btnp-pause"),p(t),console.log(t,d.current,e.split("|")[1],document.querySelector("#main-player .btnp").classList.contains("btnp-pause"))};F((function(){return legacyNativeCmder.appendRegisterCall("PlayState","audioplayer",g),function(){legacyNativeCmder.removeRegisterCall("PlayState","audioplayer",g)}}),[]),F((function(){n.current.getContext("2d").filter="blur(5px)",r.current.getContext("2d").filter="blur(5px)",o.current.getContext("2d").filter="blur(5px)",i.current.getContext("2d").filter="blur(5px)"}),[]),F((function(){var e=new Image;e.crossOrigin="Anonymous",e.onload=function(){var t=e.width,a=e.height;n.current.getContext("2d").drawImage(e,0,0,t/2,a/2,0,0,100,100),r.current.getContext("2d").drawImage(e,t/2,0,t/2,a/2,0,0,100,100),o.current.getContext("2d").drawImage(e,0,a/2,t/2,a/2,0,0,100,100),i.current.getContext("2d").drawImage(e,t/2,a/2,t/2,a/2,0,0,100,100)},e.src=t.url,s.current.setAttribute("seed",parseInt(1e3*Math.random()))}),[t.url]);var h=function(){for(var t=document.body.getBoundingClientRect(),e=t.width,a=t.height,s=.707*Math.max(e,a),c=[n,r,o,i],l=0;l<=1;l++)for(var u=0;u<=1;u++){var p=c[2*u+l];p.current.style.width="".concat(s,"px"),p.current.style.height="".concat(s,"px");var d=0===l?-1:1,g=0===u?-1:1;p.current.style.left="".concat(e/2+d*s*.35-s/2,"px"),p.current.style.top="".concat(a/2+g*s*.35-s/2,"px")}};if(F((function(){return window.addEventListener("resize",h),h(),function(){window.removeEventListener("resize",h)}}),[]),loadedPlugins.LibFrontendPlay){var m=B({});F((function(){m.current.audioContext=new AudioContext,m.current.audioSource=null,m.current.analyser=m.current.audioContext.createAnalyser(),m.current.analyser.fftSize=512,m.current.filter=m.current.audioContext.createBiquadFilter(),m.current.filter.type="lowpass",m.current.bufferLength=m.current.analyser.frequencyBinCount,m.current.dataArray=new Float32Array(m.current.bufferLength)}),[]);var f=function(t){m.current.audio=t.detail,console.log("audio source changed",m.current.audio),m.current.audio&&(m.current.audioSource&&m.current.audioSource.disconnect(),m.current.audioSource=m.current.audioContext.createMediaElementSource(m.current.audio),m.current.audioSource.connect(m.current.filter).connect(m.current.analyser),m.current.audioSource.connect(m.current.audioContext.destination))};F((function(){return loadedPlugins.LibFrontendPlay.addEventListener("updateCurrentAudioPlayer",f),function(){loadedPlugins.LibFrontendPlay.removeEventListener("updateCurrentAudioPlayer",f)}}),[]);var b=B(0);F((function(){return b.current=requestAnimationFrame((function t(){if(b.current=requestAnimationFrame(t),d.current){m.current.analyser.getFloatFrequencyData(m.current.dataArray);var e=Math.max.apply(Math,R(m.current.dataArray)),n=2*Math.pow(1.3,e/20)-1;c.current.setAttribute("scale",Math.min(600,Math.max(200,800-800*n)))}})),function(){cancelAnimationFrame(b.current)}}),[])}else if("function"==typeof registerAudioLevelCallback){var y,v={},w=0,x=0,k=[],C=[],M=function(t){if(d.current){if((x+=1)<=100){for(v[x]=t,w+=t;k.length&&v[k[k.length-1]]<=t;)k.pop();for(k.push(x);C.length&&v[C[C.length-1]]>=t;)C.pop();return C.push(x),void c.current.setAttribute("scale",400-200*t)}for(w-=v[x-100],delete v[x-100],v[x]=t,w+=t;k.length&&v[k[k.length-1]]<=t;)k.pop();for(k.push(x);k[0]<=x-100;)k.shift();for(;C.length&&v[C[C.length-1]]>=t;)C.pop();for(C.push(x);C[0]<=x-100;)C.shift();console.log(v[k[0]],v[C[0]],v[k[0]]-v[C[0]]),console.log(t,w/100,t-w/100),y=(t-v[C[0]])/(v[k[0]]-v[C[0]]),console.log("percentage",y,r(y));var e=500-300*(y=r(y)),n=parseFloat(c.current.getAttribute("scale"));c.current.setAttribute("scale",n+.1*(e-n))}function r(t){return t<.5?16*t*t*t*t*t:1-Math.pow(-2*t+2,5)/2}};F((function(){return registerAudioLevelCallback(M),function(){unregisterAudioLevelCallback(M),c.current.setAttribute("scale",400)}}),[]),F((function(){v=[],w=0}),[u])}return React.createElement(React.Fragment,null,React.createElement("svg",{width:"0",height:"0",style:{position:"absolute"}},React.createElement("filter",{id:"fluid-filter",x:"-20%",y:"-20%",width:"140%",height:"140%",filterUnits:"objectBoundingBox",primitiveUnits:"userSpaceOnUse","color-interpolation-filters":"sRGB"},React.createElement("feTurbulence",{ref:s,type:"fractalNoise",baseFrequency:"0.005",numOctaves:"1",seed:"0"}),React.createElement("feDisplacementMap",{ref:c,in:"SourceGraphic",scale:"400"}))),React.createElement("div",{className:"rnp-background-fluid",style:{backgroundImage:"url(".concat(t.url,")")}},React.createElement("div",{className:"rnp-background-fluid-rect"},React.createElement("canvas",{ref:n,className:"rnp-background-fluid-canvas",canvasID:"1",width:"100",height:"100"}),React.createElement("canvas",{ref:r,className:"rnp-background-fluid-canvas",canvasID:"2",width:"100",height:"100"}),React.createElement("canvas",{ref:o,className:"rnp-background-fluid-canvas",canvasID:"3",width:"100",height:"100"}),React.createElement("canvas",{ref:i,className:"rnp-background-fluid-canvas",canvasID:"4",width:"100",height:"100"}))))}function Z(t){return t<0?-1:0===t?0:1}function W(t,e,n){return(1-n)*t+n*e}function Y(t){return(t%=360)<0&&(t+=360),t}function J(t,e){return 180-Math.abs(Math.abs(t-e)-180)}function $(t,e){return[t[0]*e[0][0]+t[1]*e[0][1]+t[2]*e[0][2],t[0]*e[1][0]+t[1]*e[1][1]+t[2]*e[1][2],t[0]*e[2][0]+t[1]*e[2][1]+t[2]*e[2][2]]}const X=[[.41233895,.35762064,.18051042],[.2126,.7152,.0722],[.01932141,.11916382,.95034478]],K=[[3.2413774792388685,-1.5376652402851851,-.49885366846268053],[-.9691452513005321,1.8758853451067872,.04156585616912061],[.05562093689691305,-.20395524564742123,1.0571799111220335]],Q=[95.047,100,108.883];function tt(t,e,n){return(255<<24|(255&t)<<16|(255&e)<<8|255&n)>>>0}function et(t){return tt(ut(t[0]),ut(t[1]),ut(t[2]))}function nt(t){return t>>24&255}function rt(t){return t>>16&255}function ot(t){return t>>8&255}function it(t){return 255&t}function at(t,e,n){const r=K,o=r[0][0]*t+r[0][1]*e+r[0][2]*n,i=r[1][0]*t+r[1][1]*e+r[1][2]*n,a=r[2][0]*t+r[2][1]*e+r[2][2]*n;return tt(ut(o),ut(i),ut(a))}function st(t){const e=function(t){return $([lt(rt(t)),lt(ot(t)),lt(it(t))],X)}(t)[1];return 116*pt(e/100)-16}function ct(t){return 100*dt((t+16)/116)}function lt(t){const e=t/255;return e<=.040449936?e/12.92*100:100*Math.pow((e+.055)/1.055,2.4)}function ut(t){const e=t/100;let n=0;return n=e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055,r=0,o=255,(i=Math.round(255*n))<r?r:i>o?o:i;var r,o,i}function pt(t){return t>216/24389?Math.pow(t,1/3):(903.2962962962963*t+16)/116}function dt(t){const e=t*t*t;return e>216/24389?e:(116*t-16)/903.2962962962963}const gt=class{constructor(t,e,n,r,o,i,a,s,c,l){this.n=t,this.aw=e,this.nbb=n,this.ncb=r,this.c=o,this.nc=i,this.rgbD=a,this.fl=s,this.fLRoot=c,this.z=l}static make(t=function(){return Q}(),e=200/Math.PI*ct(50)/100,n=50,r=2,o=!1){const i=t,a=.401288*i[0]+.650173*i[1]+-.051461*i[2],s=-.250268*i[0]+1.204414*i[1]+.045854*i[2],c=-.002079*i[0]+.048952*i[1]+.953127*i[2],l=.8+r/10,u=l>=.9?W(.59,.69,10*(l-.9)):W(.525,.59,10*(l-.8));let p=o?1:l*(1-1/3.6*Math.exp((-e-42)/92));p=p>1?1:p<0?0:p;const d=l,g=[p*(100/a)+1-p,p*(100/s)+1-p,p*(100/c)+1-p],h=1/(5*e+1),m=h*h*h*h,f=1-m,b=m*e+.1*f*f*Math.cbrt(5*e),y=ct(n)/t[1],v=1.48+Math.sqrt(y),w=.725/Math.pow(y,.2),x=w,k=[Math.pow(b*g[0]*a/100,.42),Math.pow(b*g[1]*s/100,.42),Math.pow(b*g[2]*c/100,.42)],C=[400*k[0]/(k[0]+27.13),400*k[1]/(k[1]+27.13),400*k[2]/(k[2]+27.13)];return new gt(y,(2*C[0]+C[1]+.05*C[2])*w,w,x,u,d,g,b,Math.pow(b,.25),v)}};let ht=gt;ht.DEFAULT=gt.make();class mt{constructor(t,e,n,r,o,i,a,s,c){this.hue=t,this.chroma=e,this.j=n,this.q=r,this.m=o,this.s=i,this.jstar=a,this.astar=s,this.bstar=c}distance(t){const e=this.jstar-t.jstar,n=this.astar-t.astar,r=this.bstar-t.bstar,o=Math.sqrt(e*e+n*n+r*r);return 1.41*Math.pow(o,.63)}static fromInt(t){return mt.fromIntInViewingConditions(t,ht.DEFAULT)}static fromIntInViewingConditions(t,e){const n=(65280&t)>>8,r=255&t,o=lt((16711680&t)>>16),i=lt(n),a=lt(r),s=.41233895*o+.35762064*i+.18051042*a,c=.2126*o+.7152*i+.0722*a,l=.01932141*o+.11916382*i+.95034478*a,u=.401288*s+.650173*c-.051461*l,p=-.250268*s+1.204414*c+.045854*l,d=-.002079*s+.048952*c+.953127*l,g=e.rgbD[0]*u,h=e.rgbD[1]*p,m=e.rgbD[2]*d,f=Math.pow(e.fl*Math.abs(g)/100,.42),b=Math.pow(e.fl*Math.abs(h)/100,.42),y=Math.pow(e.fl*Math.abs(m)/100,.42),v=400*Z(g)*f/(f+27.13),w=400*Z(h)*b/(b+27.13),x=400*Z(m)*y/(y+27.13),k=(11*v+-12*w+x)/11,C=(v+w-2*x)/9,M=(20*v+20*w+21*x)/20,I=(40*v+20*w+x)/20,E=180*Math.atan2(C,k)/Math.PI,S=E<0?E+360:E>=360?E-360:E,L=S*Math.PI/180,q=I*e.nbb,A=100*Math.pow(q/e.aw,e.c*e.z),z=4/e.c*Math.sqrt(A/100)*(e.aw+4)*e.fLRoot,T=S<20.14?S+360:S,O=5e4/13*(.25*(Math.cos(T*Math.PI/180+2)+3.8))*e.nc*e.ncb*Math.sqrt(k*k+C*C)/(M+.305),R=Math.pow(O,.9)*Math.pow(1.64-Math.pow(.29,e.n),.73),_=R*Math.sqrt(A/100),P=_*e.fLRoot,H=50*Math.sqrt(R*e.c/(e.aw+4)),j=(1+100*.007)*A/(1+.007*A),F=1/.0228*Math.log(1+.0228*P),B=F*Math.cos(L),D=F*Math.sin(L);return new mt(S,_,A,z,P,H,j,B,D)}static fromJch(t,e,n){return mt.fromJchInViewingConditions(t,e,n,ht.DEFAULT)}static fromJchInViewingConditions(t,e,n,r){const o=4/r.c*Math.sqrt(t/100)*(r.aw+4)*r.fLRoot,i=e*r.fLRoot,a=e/Math.sqrt(t/100),s=50*Math.sqrt(a*r.c/(r.aw+4)),c=n*Math.PI/180,l=(1+100*.007)*t/(1+.007*t),u=1/.0228*Math.log(1+.0228*i),p=u*Math.cos(c),d=u*Math.sin(c);return new mt(n,e,t,o,i,s,l,p,d)}static fromUcs(t,e,n){return mt.fromUcsInViewingConditions(t,e,n,ht.DEFAULT)}static fromUcsInViewingConditions(t,e,n,r){const o=e,i=n,a=Math.sqrt(o*o+i*i),s=(Math.exp(.0228*a)-1)/.0228/r.fLRoot;let c=Math.atan2(i,o)*(180/Math.PI);c<0&&(c+=360);const l=t/(1-.007*(t-100));return mt.fromJchInViewingConditions(l,s,c,r)}toInt(){return this.viewed(ht.DEFAULT)}viewed(t){const e=0===this.chroma||0===this.j?0:this.chroma/Math.sqrt(this.j/100),n=Math.pow(e/Math.pow(1.64-Math.pow(.29,t.n),.73),1/.9),r=this.hue*Math.PI/180,o=.25*(Math.cos(r+2)+3.8),i=t.aw*Math.pow(this.j/100,1/t.c/t.z),a=o*(5e4/13)*t.nc*t.ncb,s=i/t.nbb,c=Math.sin(r),l=Math.cos(r),u=23*(s+.305)*n/(23*a+11*n*l+108*n*c),p=u*l,d=u*c,g=(460*s+451*p+288*d)/1403,h=(460*s-891*p-261*d)/1403,m=(460*s-220*p-6300*d)/1403,f=Math.max(0,27.13*Math.abs(g)/(400-Math.abs(g))),b=Z(g)*(100/t.fl)*Math.pow(f,1/.42),y=Math.max(0,27.13*Math.abs(h)/(400-Math.abs(h))),v=Z(h)*(100/t.fl)*Math.pow(y,1/.42),w=Math.max(0,27.13*Math.abs(m)/(400-Math.abs(m))),x=Z(m)*(100/t.fl)*Math.pow(w,1/.42),k=b/t.rgbD[0],C=v/t.rgbD[1],M=x/t.rgbD[2];return at(1.86206786*k-1.01125463*C+.14918677*M,.38752654*k+.62144744*C-.00897398*M,-.0158415*k-.03412294*C+1.04996444*M)}}const ft=class{static sanitizeRadians(t){return(t+8*Math.PI)%(2*Math.PI)}static trueDelinearized(t){const e=t/100;let n=0;return n=e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055,255*n}static chromaticAdaptation(t){const e=Math.pow(Math.abs(t),.42);return 400*Z(t)*e/(e+27.13)}static hueOf(t){const e=$(t,ft.SCALED_DISCOUNT_FROM_LINRGB),n=ft.chromaticAdaptation(e[0]),r=ft.chromaticAdaptation(e[1]),o=ft.chromaticAdaptation(e[2]),i=(11*n+-12*r+o)/11,a=(n+r-2*o)/9;return Math.atan2(a,i)}static areInCyclicOrder(t,e,n){return ft.sanitizeRadians(e-t)<ft.sanitizeRadians(n-t)}static intercept(t,e,n){return(e-t)/(n-t)}static lerpPoint(t,e,n){return[t[0]+(n[0]-t[0])*e,t[1]+(n[1]-t[1])*e,t[2]+(n[2]-t[2])*e]}static setCoordinate(t,e,n,r){const o=ft.intercept(t[r],e,n[r]);return ft.lerpPoint(t,o,n)}static isBounded(t){return 0<=t&&t<=100}static nthVertex(t,e){const n=ft.Y_FROM_LINRGB[0],r=ft.Y_FROM_LINRGB[1],o=ft.Y_FROM_LINRGB[2],i=e%4<=1?0:100,a=e%2==0?0:100;if(e<4){const e=i,s=a,c=(t-e*r-s*o)/n;return ft.isBounded(c)?[c,e,s]:[-1,-1,-1]}if(e<8){const e=i,s=a,c=(t-s*n-e*o)/r;return ft.isBounded(c)?[s,c,e]:[-1,-1,-1]}{const e=i,s=a,c=(t-e*n-s*r)/o;return ft.isBounded(c)?[e,s,c]:[-1,-1,-1]}}static bisectToSegment(t,e){let n=[-1,-1,-1],r=n,o=0,i=0,a=!1,s=!0;for(let c=0;c<12;c++){const l=ft.nthVertex(t,c);if(l[0]<0)continue;const u=ft.hueOf(l);a?(s||ft.areInCyclicOrder(o,u,i))&&(s=!1,ft.areInCyclicOrder(o,e,u)?(r=l,i=u):(n=l,o=u)):(n=l,r=l,o=u,i=u,a=!0)}return[n,r]}static midpoint(t,e){return[(t[0]+e[0])/2,(t[1]+e[1])/2,(t[2]+e[2])/2]}static criticalPlaneBelow(t){return Math.floor(t-.5)}static criticalPlaneAbove(t){return Math.ceil(t-.5)}static bisectToLimit(t,e){const n=ft.bisectToSegment(t,e);let r=n[0],o=ft.hueOf(r),i=n[1];for(let t=0;t<3;t++)if(r[t]!==i[t]){let n=-1,a=255;r[t]<i[t]?(n=ft.criticalPlaneBelow(ft.trueDelinearized(r[t])),a=ft.criticalPlaneAbove(ft.trueDelinearized(i[t]))):(n=ft.criticalPlaneAbove(ft.trueDelinearized(r[t])),a=ft.criticalPlaneBelow(ft.trueDelinearized(i[t])));for(let s=0;s<8&&!(Math.abs(a-n)<=1);s++){const s=Math.floor((n+a)/2),c=ft.CRITICAL_PLANES[s],l=ft.setCoordinate(r,c,i,t),u=ft.hueOf(l);ft.areInCyclicOrder(o,e,u)?(i=l,a=s):(r=l,o=u,n=s)}}return ft.midpoint(r,i)}static inverseChromaticAdaptation(t){const e=Math.abs(t),n=Math.max(0,27.13*e/(400-e));return Z(t)*Math.pow(n,1/.42)}static findResultByJ(t,e,n){let r=11*Math.sqrt(n);const o=ht.DEFAULT,i=1/Math.pow(1.64-Math.pow(.29,o.n),.73),a=.25*(Math.cos(t+2)+3.8)*(5e4/13)*o.nc*o.ncb,s=Math.sin(t),c=Math.cos(t);for(let t=0;t<5;t++){const l=r/100,u=0===e||0===r?0:e/Math.sqrt(l),p=Math.pow(u*i,1/.9),d=o.aw*Math.pow(l,1/o.c/o.z)/o.nbb,g=23*(d+.305)*p/(23*a+11*p*c+108*p*s),h=g*c,m=g*s,f=(460*d+451*h+288*m)/1403,b=(460*d-891*h-261*m)/1403,y=(460*d-220*h-6300*m)/1403,v=$([ft.inverseChromaticAdaptation(f),ft.inverseChromaticAdaptation(b),ft.inverseChromaticAdaptation(y)],ft.LINRGB_FROM_SCALED_DISCOUNT);if(v[0]<0||v[1]<0||v[2]<0)return 0;const w=ft.Y_FROM_LINRGB[0],x=ft.Y_FROM_LINRGB[1],k=ft.Y_FROM_LINRGB[2],C=w*v[0]+x*v[1]+k*v[2];if(C<=0)return 0;if(4===t||Math.abs(C-n)<.002)return v[0]>100.01||v[1]>100.01||v[2]>100.01?0:et(v);r-=(C-n)*r/(2*C)}return 0}static solveToInt(t,e,n){if(e<1e-4||n<1e-4||n>99.9999)return function(t){const e=ut(ct(t));return tt(e,e,e)}(n);const r=(t=Y(t))/180*Math.PI,o=ct(n),i=ft.findResultByJ(r,e,o);if(0!==i)return i;return et(ft.bisectToLimit(o,r))}static solveToCam(t,e,n){return mt.fromInt(ft.solveToInt(t,e,n))}};let bt=ft;bt.SCALED_DISCOUNT_FROM_LINRGB=[[.001200833568784504,.002389694492170889,.0002795742885861124],[.0005891086651375999,.0029785502573438758,.0003270666104008398],[.00010146692491640572,.0005364214359186694,.0032979401770712076]],bt.LINRGB_FROM_SCALED_DISCOUNT=[[1373.2198709594231,-1100.4251190754821,-7.278681089101213],[-271.815969077903,559.6580465940733,-32.46047482791194],[1.9622899599665666,-57.173814538844006,308.7233197812385]],bt.Y_FROM_LINRGB=[.2126,.7152,.0722],bt.CRITICAL_PLANES=[.015176349177441876,.045529047532325624,.07588174588720938,.10623444424209313,.13658714259697685,.16693984095186062,.19729253930674434,.2276452376616281,.2579979360165119,.28835063437139563,.3188300904430532,.350925934958123,.3848314933096426,.42057480301049466,.458183274052838,.4976837250274023,.5391024159806381,.5824650784040898,.6277969426914107,.6751227633498623,.7244668422128921,.775853049866786,.829304845476233,.8848452951698498,.942497089126609,1.0022825574869039,1.0642236851973577,1.1283421258858297,1.1946592148522128,1.2631959812511864,1.3339731595349034,1.407011200216447,1.4823302800086415,1.5599503113873272,1.6398909516233677,1.7221716113234105,1.8068114625156377,1.8938294463134073,1.9832442801866852,2.075074464868551,2.1693382909216234,2.2660538449872063,2.36523901573795,2.4669114995532007,2.5710888059345764,2.6777882626779785,2.7870270208169257,2.898822059350997,3.0131901897720907,3.1301480604002863,3.2497121605402226,3.3718988244681087,3.4967242352587946,3.624204428461639,3.754355295633311,3.887192587735158,4.022731918402185,4.160988767090289,4.301978482107941,4.445716283538092,4.592217266055746,4.741496401646282,4.893568542229298,5.048448422192488,5.20615066083972,5.3666897647573375,5.5300801301023865,5.696336044816294,5.865471690767354,6.037501145825082,6.212438385869475,6.390297286737924,6.571091626112461,6.7548350853498045,6.941541251256611,7.131223617812143,7.323895587840543,7.5195704746346665,7.7182615035334345,7.919981813454504,8.124744458384042,8.332562408825165,8.543448553206703,8.757415699253682,8.974476575321063,9.194643831691977,9.417930041841839,9.644347703669503,9.873909240696694,10.106627003236781,10.342513269534024,10.58158024687427,10.8238400726681,11.069304815507364,11.317986476196008,11.569896988756009,11.825048221409341,12.083451977536606,12.345119996613247,12.610063955123938,12.878295467455942,13.149826086772048,13.42466730586372,13.702830557985108,13.984327217668513,14.269168601521828,14.55736596900856,14.848930523210871,15.143873411576273,15.44220572664832,15.743938506781891,16.04908273684337,16.35764934889634,16.66964922287304,16.985093187232053,17.30399201960269,17.62635644741625,17.95219714852476,18.281524751807332,18.614349837764564,18.95068293910138,19.290534541298456,19.633915083172692,19.98083495742689,20.331304511189067,20.685334046541502,21.042933821039977,21.404114048223256,21.76888489811322,22.137256497705877,22.50923893145328,22.884842241736916,23.264076429332462,23.6469514538663,24.033477234264016,24.42366364919083,24.817520537484558,25.21505769858089,25.61628489293138,26.021211842414342,26.429848230738664,26.842203703840827,27.258287870275353,27.678110301598522,28.10168053274597,28.529008062403893,28.96010235337422,29.39497283293396,29.83362889318845,30.276079891419332,30.722335150426627,31.172403958865512,31.62629557157785,32.08401920991837,32.54558406207592,33.010999283389665,33.4802739966603,33.953417292456834,34.430438229418264,34.911345834551085,35.39614910352207,35.88485700094671,36.37747846067349,36.87402238606382,37.37449765026789,37.87891309649659,38.38727753828926,38.89959975977785,39.41588851594697,39.93615253289054,40.460400508064545,40.98864111053629,41.520882981230194,42.05713473317016,42.597404951718396,43.141702194811224,43.6900349931913,44.24241185063697,44.798841244188324,45.35933162437017,45.92389141541209,46.49252901546552,47.065252796817916,47.64207110610409,48.22299226451468,48.808024568002054,49.3971762874833,49.9904556690408,50.587870934119984,51.189430279724725,51.79514187861014,52.40501387947288,53.0190544071392,53.637271562750364,54.259673423945976,54.88626804504493,55.517063457223934,56.15206766869424,56.79128866487574,57.43473440856916,58.08241284012621,58.734331877617365,59.39049941699807,60.05092333227251,60.715611475655585,61.38457167773311,62.057811747619894,62.7353394731159,63.417162620860914,64.10328893648692,64.79372614476921,65.48848194977529,66.18756403501224,66.89098006357258,67.59873767827808,68.31084450182222,69.02730813691093,69.74813616640164,70.47333615344107,71.20291564160104,71.93688215501312,72.67524319850172,73.41800625771542,74.16517879925733,74.9167682708136,75.67278210128072,76.43322770089146,77.1981124613393,77.96744375590167,78.74122893956174,79.51947534912904,80.30219030335869,81.08938110306934,81.88105503125999,82.67721935322541,83.4778813166706,84.28304815182372,85.09272707154808,85.90692527145302,86.72564993000343,87.54890820862819,88.3767072518277,89.2090541872801,90.04595612594655,90.88742016217518,91.73345337380438,92.58406282226491,93.43925555268066,94.29903859396902,95.16341895893969,96.03240364439274,96.9059996312159,97.78421388448044,98.6670533535366,99.55452497210776];class yt{constructor(t){this.argb=t;const e=mt.fromInt(t);this.internalHue=e.hue,this.internalChroma=e.chroma,this.internalTone=st(t),this.argb=t}static from(t,e,n){return new yt(bt.solveToInt(t,e,n))}static fromInt(t){return new yt(t)}toInt(){return this.argb}get hue(){return this.internalHue}set hue(t){this.setInternalState(bt.solveToInt(t,this.internalChroma,this.internalTone))}get chroma(){return this.internalChroma}set chroma(t){this.setInternalState(bt.solveToInt(this.internalHue,t,this.internalTone))}get tone(){return this.internalTone}set tone(t){this.setInternalState(bt.solveToInt(this.internalHue,this.internalChroma,t))}setInternalState(t){const e=mt.fromInt(t);this.internalHue=e.hue,this.internalChroma=e.chroma,this.internalTone=st(t),this.argb=t}}class vt{static harmonize(t,e){const n=yt.fromInt(t),r=yt.fromInt(e),o=J(n.hue,r.hue),i=Math.min(.5*o,15),a=Y(n.hue+i*(s=n.hue,Y(r.hue-s)<=180?1:-1));var s;return yt.from(a,n.chroma,n.tone).toInt()}static hctHue(t,e,n){const r=vt.cam16Ucs(t,e,n),o=mt.fromInt(r),i=mt.fromInt(t);return yt.from(o.hue,i.chroma,st(t)).toInt()}static cam16Ucs(t,e,n){const r=mt.fromInt(t),o=mt.fromInt(e),i=r.jstar,a=r.astar,s=r.bstar,c=i+(o.jstar-i)*n,l=a+(o.astar-a)*n,u=s+(o.bstar-s)*n;return mt.fromUcs(c,l,u).toInt()}}class wt{constructor(t,e){this.hue=t,this.chroma=e,this.cache=new Map}static fromInt(t){const e=yt.fromInt(t);return wt.fromHueAndChroma(e.hue,e.chroma)}static fromHueAndChroma(t,e){return new wt(t,e)}tone(t){let e=this.cache.get(t);return void 0===e&&(e=yt.from(this.hue,this.chroma,t).toInt(),this.cache.set(t,e)),e}}class xt{static of(t){return new xt(t,!1)}static contentOf(t){return new xt(t,!0)}constructor(t,e){const n=yt.fromInt(t),r=n.hue,o=n.chroma;e?(this.a1=wt.fromHueAndChroma(r,o),this.a2=wt.fromHueAndChroma(r,o/3),this.a3=wt.fromHueAndChroma(r+60,o/2),this.n1=wt.fromHueAndChroma(r,Math.min(o/12,4)),this.n2=wt.fromHueAndChroma(r,Math.min(o/6,8))):(this.a1=wt.fromHueAndChroma(r,Math.max(48,o)),this.a2=wt.fromHueAndChroma(r,16),this.a3=wt.fromHueAndChroma(r+60,24),this.n1=wt.fromHueAndChroma(r,4),this.n2=wt.fromHueAndChroma(r,8)),this.error=wt.fromHueAndChroma(25,84)}}class kt{fromInt(t){return function(t){const e=lt(rt(t)),n=lt(ot(t)),r=lt(it(t)),o=X,i=o[0][0]*e+o[0][1]*n+o[0][2]*r,a=o[1][0]*e+o[1][1]*n+o[1][2]*r,s=o[2][0]*e+o[2][1]*n+o[2][2]*r,c=a/Q[1],l=s/Q[2],u=pt(i/Q[0]),p=pt(c);return[116*p-16,500*(u-p),200*(p-pt(l))]}(t)}toInt(t){return function(t,e,n){const r=Q,o=(t+16)/116,i=o-n/200,a=dt(e/500+o),s=dt(o),c=dt(i);return at(a*r[0],s*r[1],c*r[2])}(t[0],t[1],t[2])}distance(t,e){const n=t[0]-e[0],r=t[1]-e[1],o=t[2]-e[2];return n*n+r*r+o*o}}class Ct{static quantize(t,e,n){const r=new Map,o=new Array,i=new Array,a=new kt;let s=0;for(let e=0;e<t.length;e++){const n=t[e],c=r.get(n);void 0===c?(s++,o.push(a.fromInt(n)),i.push(n),r.set(n,1)):r.set(n,c+1)}const c=new Array;for(let t=0;t<s;t++){const e=i[t],n=r.get(e);void 0!==n&&(c[t]=n)}let l=Math.min(n,s);e.length>0&&(l=Math.min(l,e.length));const u=new Array;for(let t=0;t<e.length;t++)u.push(a.fromInt(e[t]));const p=l-u.length;if(0===e.length&&p>0)for(let t=0;t<p;t++){const t=100*Math.random(),e=201*Math.random()-100,n=201*Math.random()-100;u.push(new Array(t,e,n))}const d=new Array;for(let t=0;t<s;t++)d.push(Math.floor(Math.random()*l));const g=new Array;for(let t=0;t<l;t++){g.push(new Array);for(let e=0;e<l;e++)g[t].push(0)}const h=new Array;for(let t=0;t<l;t++){h.push(new Array);for(let e=0;e<l;e++)h[t].push(new Mt)}const m=new Array;for(let t=0;t<l;t++)m.push(0);for(let t=0;t<10;t++){for(let t=0;t<l;t++){for(let e=t+1;e<l;e++){const n=a.distance(u[t],u[e]);h[e][t].distance=n,h[e][t].index=t,h[t][e].distance=n,h[t][e].index=e}h[t].sort();for(let e=0;e<l;e++)g[t][e]=h[t][e].index}let e=0;for(let t=0;t<s;t++){const n=o[t],r=d[t],i=u[r],s=a.distance(n,i);let c=s,p=-1;for(let t=0;t<l;t++){if(h[r][t].distance>=4*s)continue;const e=a.distance(n,u[t]);e<c&&(c=e,p=t)}if(-1!==p){Math.abs(Math.sqrt(c)-Math.sqrt(s))>3&&(e++,d[t]=p)}}if(0===e&&0!==t)break;const n=new Array(l).fill(0),r=new Array(l).fill(0),i=new Array(l).fill(0);for(let t=0;t<l;t++)m[t]=0;for(let t=0;t<s;t++){const e=d[t],a=o[t],s=c[t];m[e]+=s,n[e]+=a[0]*s,r[e]+=a[1]*s,i[e]+=a[2]*s}for(let t=0;t<l;t++){const e=m[t];if(0===e){u[t]=[0,0,0];continue}const o=n[t]/e,a=r[t]/e,s=i[t]/e;u[t]=[o,a,s]}}const f=new Map;for(let t=0;t<l;t++){const e=m[t];if(0===e)continue;const n=a.toInt(u[t]);f.has(n)||f.set(n,e)}return f}}class Mt{constructor(){this.distance=-1,this.index=-1}}class It{static quantize(t){const e=new Map;for(let n=0;n<t.length;n++){const r=t[n];nt(r)<255||e.set(r,(e.get(r)??0)+1)}return e}}const Et=33,St=35937,Lt="red",qt="green",At="blue";class zt{constructor(t=[],e=[],n=[],r=[],o=[],i=[]){this.weights=t,this.momentsR=e,this.momentsG=n,this.momentsB=r,this.moments=o,this.cubes=i}quantize(t,e){this.constructHistogram(t),this.computeMoments();const n=this.createBoxes(e);return this.createResult(n.resultCount)}constructHistogram(t){this.weights=Array.from({length:St}).fill(0),this.momentsR=Array.from({length:St}).fill(0),this.momentsG=Array.from({length:St}).fill(0),this.momentsB=Array.from({length:St}).fill(0),this.moments=Array.from({length:St}).fill(0);const e=It.quantize(t);for(const[t,n]of e.entries()){const e=rt(t),r=ot(t),o=it(t),i=3,a=1+(e>>i),s=1+(r>>i),c=1+(o>>i),l=this.getIndex(a,s,c);this.weights[l]=(this.weights[l]??0)+n,this.momentsR[l]+=n*e,this.momentsG[l]+=n*r,this.momentsB[l]+=n*o,this.moments[l]+=n*(e*e+r*r+o*o)}}computeMoments(){for(let t=1;t<Et;t++){const e=Array.from({length:Et}).fill(0),n=Array.from({length:Et}).fill(0),r=Array.from({length:Et}).fill(0),o=Array.from({length:Et}).fill(0),i=Array.from({length:Et}).fill(0);for(let a=1;a<Et;a++){let s=0,c=0,l=0,u=0,p=0;for(let d=1;d<Et;d++){const g=this.getIndex(t,a,d);s+=this.weights[g],c+=this.momentsR[g],l+=this.momentsG[g],u+=this.momentsB[g],p+=this.moments[g],e[d]+=s,n[d]+=c,r[d]+=l,o[d]+=u,i[d]+=p;const h=this.getIndex(t-1,a,d);this.weights[g]=this.weights[h]+e[d],this.momentsR[g]=this.momentsR[h]+n[d],this.momentsG[g]=this.momentsG[h]+r[d],this.momentsB[g]=this.momentsB[h]+o[d],this.moments[g]=this.moments[h]+i[d]}}}}createBoxes(t){this.cubes=Array.from({length:t}).fill(0).map((()=>new Tt));const e=Array.from({length:t}).fill(0);this.cubes[0].r0=0,this.cubes[0].g0=0,this.cubes[0].b0=0,this.cubes[0].r1=32,this.cubes[0].g1=32,this.cubes[0].b1=32;let n=t,r=0;for(let o=1;o<t;o++){this.cut(this.cubes[r],this.cubes[o])?(e[r]=this.cubes[r].vol>1?this.variance(this.cubes[r]):0,e[o]=this.cubes[o].vol>1?this.variance(this.cubes[o]):0):(e[r]=0,o--),r=0;let t=e[0];for(let n=1;n<=o;n++)e[n]>t&&(t=e[n],r=n);if(t<=0){n=o+1;break}}return new Ot(t,n)}createResult(t){const e=[];for(let n=0;n<t;++n){const t=this.cubes[n],r=this.volume(t,this.weights);if(r>0){const n=255<<24|(255&Math.round(this.volume(t,this.momentsR)/r))<<16|(255&Math.round(this.volume(t,this.momentsG)/r))<<8|255&Math.round(this.volume(t,this.momentsB)/r);e.push(n)}}return e}variance(t){const e=this.volume(t,this.momentsR),n=this.volume(t,this.momentsG),r=this.volume(t,this.momentsB);return this.moments[this.getIndex(t.r1,t.g1,t.b1)]-this.moments[this.getIndex(t.r1,t.g1,t.b0)]-this.moments[this.getIndex(t.r1,t.g0,t.b1)]+this.moments[this.getIndex(t.r1,t.g0,t.b0)]-this.moments[this.getIndex(t.r0,t.g1,t.b1)]+this.moments[this.getIndex(t.r0,t.g1,t.b0)]+this.moments[this.getIndex(t.r0,t.g0,t.b1)]-this.moments[this.getIndex(t.r0,t.g0,t.b0)]-(e*e+n*n+r*r)/this.volume(t,this.weights)}cut(t,e){const n=this.volume(t,this.momentsR),r=this.volume(t,this.momentsG),o=this.volume(t,this.momentsB),i=this.volume(t,this.weights),a=this.maximize(t,Lt,t.r0+1,t.r1,n,r,o,i),s=this.maximize(t,qt,t.g0+1,t.g1,n,r,o,i),c=this.maximize(t,At,t.b0+1,t.b1,n,r,o,i);let l;const u=a.maximum,p=s.maximum,d=c.maximum;if(u>=p&&u>=d){if(a.cutLocation<0)return!1;l=Lt}else l=p>=u&&p>=d?qt:At;switch(e.r1=t.r1,e.g1=t.g1,e.b1=t.b1,l){case Lt:t.r1=a.cutLocation,e.r0=t.r1,e.g0=t.g0,e.b0=t.b0;break;case qt:t.g1=s.cutLocation,e.r0=t.r0,e.g0=t.g1,e.b0=t.b0;break;case At:t.b1=c.cutLocation,e.r0=t.r0,e.g0=t.g0,e.b0=t.b1;break;default:throw new Error("unexpected direction "+l)}return t.vol=(t.r1-t.r0)*(t.g1-t.g0)*(t.b1-t.b0),e.vol=(e.r1-e.r0)*(e.g1-e.g0)*(e.b1-e.b0),!0}maximize(t,e,n,r,o,i,a,s){const c=this.bottom(t,e,this.momentsR),l=this.bottom(t,e,this.momentsG),u=this.bottom(t,e,this.momentsB),p=this.bottom(t,e,this.weights);let d=0,g=-1,h=0,m=0,f=0,b=0;for(let y=n;y<r;y++){if(h=c+this.top(t,e,y,this.momentsR),m=l+this.top(t,e,y,this.momentsG),f=u+this.top(t,e,y,this.momentsB),b=p+this.top(t,e,y,this.weights),0===b)continue;let n=1*(h*h+m*m+f*f),r=1*b,v=n/r;h=o-h,m=i-m,f=a-f,b=s-b,0!==b&&(n=1*(h*h+m*m+f*f),r=1*b,v+=n/r,v>d&&(d=v,g=y))}return new Rt(g,d)}volume(t,e){return e[this.getIndex(t.r1,t.g1,t.b1)]-e[this.getIndex(t.r1,t.g1,t.b0)]-e[this.getIndex(t.r1,t.g0,t.b1)]+e[this.getIndex(t.r1,t.g0,t.b0)]-e[this.getIndex(t.r0,t.g1,t.b1)]+e[this.getIndex(t.r0,t.g1,t.b0)]+e[this.getIndex(t.r0,t.g0,t.b1)]-e[this.getIndex(t.r0,t.g0,t.b0)]}bottom(t,e,n){switch(e){case Lt:return-n[this.getIndex(t.r0,t.g1,t.b1)]+n[this.getIndex(t.r0,t.g1,t.b0)]+n[this.getIndex(t.r0,t.g0,t.b1)]-n[this.getIndex(t.r0,t.g0,t.b0)];case qt:return-n[this.getIndex(t.r1,t.g0,t.b1)]+n[this.getIndex(t.r1,t.g0,t.b0)]+n[this.getIndex(t.r0,t.g0,t.b1)]-n[this.getIndex(t.r0,t.g0,t.b0)];case At:return-n[this.getIndex(t.r1,t.g1,t.b0)]+n[this.getIndex(t.r1,t.g0,t.b0)]+n[this.getIndex(t.r0,t.g1,t.b0)]-n[this.getIndex(t.r0,t.g0,t.b0)];default:throw new Error("unexpected direction $direction")}}top(t,e,n,r){switch(e){case Lt:return r[this.getIndex(n,t.g1,t.b1)]-r[this.getIndex(n,t.g1,t.b0)]-r[this.getIndex(n,t.g0,t.b1)]+r[this.getIndex(n,t.g0,t.b0)];case qt:return r[this.getIndex(t.r1,n,t.b1)]-r[this.getIndex(t.r1,n,t.b0)]-r[this.getIndex(t.r0,n,t.b1)]+r[this.getIndex(t.r0,n,t.b0)];case At:return r[this.getIndex(t.r1,t.g1,n)]-r[this.getIndex(t.r1,t.g0,n)]-r[this.getIndex(t.r0,t.g1,n)]+r[this.getIndex(t.r0,t.g0,n)];default:throw new Error("unexpected direction $direction")}}getIndex(t,e,n){return(t<<10)+(t<<6)+t+(e<<5)+e+n}}class Tt{constructor(t=0,e=0,n=0,r=0,o=0,i=0,a=0){this.r0=t,this.r1=e,this.g0=n,this.g1=r,this.b0=o,this.b1=i,this.vol=a}}class Ot{constructor(t,e){this.requestedCount=t,this.resultCount=e}}class Rt{constructor(t,e){this.cutLocation=t,this.maximum=e}}class _t{static quantize(t,e){const n=(new zt).quantize(t,e);return Ct.quantize(t,n,e)}}class Pt{constructor(t){this.props=t}get primary(){return this.props.primary}get onPrimary(){return this.props.onPrimary}get primaryContainer(){return this.props.primaryContainer}get onPrimaryContainer(){return this.props.onPrimaryContainer}get secondary(){return this.props.secondary}get onSecondary(){return this.props.onSecondary}get secondaryContainer(){return this.props.secondaryContainer}get onSecondaryContainer(){return this.props.onSecondaryContainer}get tertiary(){return this.props.tertiary}get onTertiary(){return this.props.onTertiary}get tertiaryContainer(){return this.props.tertiaryContainer}get onTertiaryContainer(){return this.props.onTertiaryContainer}get error(){return this.props.error}get onError(){return this.props.onError}get errorContainer(){return this.props.errorContainer}get onErrorContainer(){return this.props.onErrorContainer}get background(){return this.props.background}get onBackground(){return this.props.onBackground}get surface(){return this.props.surface}get onSurface(){return this.props.onSurface}get surfaceVariant(){return this.props.surfaceVariant}get onSurfaceVariant(){return this.props.onSurfaceVariant}get outline(){return this.props.outline}get outlineVariant(){return this.props.outlineVariant}get shadow(){return this.props.shadow}get scrim(){return this.props.scrim}get inverseSurface(){return this.props.inverseSurface}get inverseOnSurface(){return this.props.inverseOnSurface}get inversePrimary(){return this.props.inversePrimary}static light(t){return Pt.lightFromCorePalette(xt.of(t))}static dark(t){return Pt.darkFromCorePalette(xt.of(t))}static lightContent(t){return Pt.lightFromCorePalette(xt.contentOf(t))}static darkContent(t){return Pt.darkFromCorePalette(xt.contentOf(t))}static lightFromCorePalette(t){return new Pt({primary:t.a1.tone(40),onPrimary:t.a1.tone(100),primaryContainer:t.a1.tone(90),onPrimaryContainer:t.a1.tone(10),secondary:t.a2.tone(40),onSecondary:t.a2.tone(100),secondaryContainer:t.a2.tone(90),onSecondaryContainer:t.a2.tone(10),tertiary:t.a3.tone(40),onTertiary:t.a3.tone(100),tertiaryContainer:t.a3.tone(90),onTertiaryContainer:t.a3.tone(10),error:t.error.tone(40),onError:t.error.tone(100),errorContainer:t.error.tone(90),onErrorContainer:t.error.tone(10),background:t.n1.tone(99),onBackground:t.n1.tone(10),surface:t.n1.tone(99),onSurface:t.n1.tone(10),surfaceVariant:t.n2.tone(90),onSurfaceVariant:t.n2.tone(30),outline:t.n2.tone(50),outlineVariant:t.n2.tone(80),shadow:t.n1.tone(0),scrim:t.n1.tone(0),inverseSurface:t.n1.tone(20),inverseOnSurface:t.n1.tone(95),inversePrimary:t.a1.tone(80)})}static darkFromCorePalette(t){return new Pt({primary:t.a1.tone(80),onPrimary:t.a1.tone(20),primaryContainer:t.a1.tone(30),onPrimaryContainer:t.a1.tone(90),secondary:t.a2.tone(80),onSecondary:t.a2.tone(20),secondaryContainer:t.a2.tone(30),onSecondaryContainer:t.a2.tone(90),tertiary:t.a3.tone(80),onTertiary:t.a3.tone(20),tertiaryContainer:t.a3.tone(30),onTertiaryContainer:t.a3.tone(90),error:t.error.tone(80),onError:t.error.tone(20),errorContainer:t.error.tone(30),onErrorContainer:t.error.tone(90),background:t.n1.tone(10),onBackground:t.n1.tone(90),surface:t.n1.tone(10),onSurface:t.n1.tone(90),surfaceVariant:t.n2.tone(30),onSurfaceVariant:t.n2.tone(80),outline:t.n2.tone(60),outlineVariant:t.n2.tone(30),shadow:t.n1.tone(0),scrim:t.n1.tone(0),inverseSurface:t.n1.tone(90),inverseOnSurface:t.n1.tone(20),inversePrimary:t.a1.tone(40)})}toJSON(){return{...this.props}}}const Ht=class{constructor(){}static score(t,e=!1){let n=0;for(const e of t.values())n+=e;const r=new Map,o=new Map,i=new Array(360).fill(0);for(const[e,a]of t.entries()){const t=a/n;r.set(e,t);const s=mt.fromInt(e);o.set(e,s);i[Math.round(s.hue)]+=t}const a=new Map;for(const[t,e]of o.entries()){const n=Math.round(e.hue);let r=0;for(let t=n-15;t<n+15;t++){r+=i[(s=t,(s%=360)<0&&(s+=360),s)]}a.set(t,r)}var s;const c=new Map;for(const[t,e]of o.entries()){const n=100*a.get(t)*Ht.WEIGHT_PROPORTION,r=e.chroma<Ht.TARGET_CHROMA?Ht.WEIGHT_CHROMA_BELOW:Ht.WEIGHT_CHROMA_ABOVE,o=n+(e.chroma-Ht.TARGET_CHROMA)*r;c.set(t,o)}const l=e?Ht.filterContent(o):Ht.filter(a,o),u=new Map;for(const t of l){let e=!1;const n=o.get(t).hue;for(const[t]of u){if(J(n,o.get(t).hue)<15){e=!0;break}}e||u.set(t,c.get(t))}const p=Array.from(u.entries());p.sort(((t,e)=>e[1]-t[1]));const d=p.map((t=>t[0]));return 0===d.length&&d.push(4282549748),d}static filter(t,e){const n=new Array;for(const[r,o]of e.entries()){const e=t.get(r);o.chroma>=Ht.CUTOFF_CHROMA&&st(r)>=Ht.CUTOFF_TONE&&e>=Ht.CUTOFF_EXCITED_PROPORTION&&n.push(r)}return n}static filterContent(t){return Array.from(t.keys())}};let jt=Ht;jt.TARGET_CHROMA=48,jt.WEIGHT_PROPORTION=.7,jt.WEIGHT_CHROMA_ABOVE=.3,jt.WEIGHT_CHROMA_BELOW=.1,jt.CUTOFF_CHROMA=15,jt.CUTOFF_TONE=10,jt.CUTOFF_EXCITED_PROPORTION=.01;function Ft(t,e=[]){const n=xt.of(t);return{source:t,schemes:{light:Pt.light(t),dark:Pt.dark(t)},palettes:{primary:n.a1,secondary:n.a2,tertiary:n.a3,neutral:n.n1,neutralVariant:n.n2,error:n.error},customColors:e.map((e=>function(t,e){let n=e.value;const r=n,o=t;e.blend&&(n=vt.harmonize(r,o));const i=xt.of(n),a=i.a1;return{color:e,value:n,light:{color:a.tone(40),onColor:a.tone(100),colorContainer:a.tone(90),onColorContainer:a.tone(10)},dark:{color:a.tone(80),onColor:a.tone(20),colorContainer:a.tone(30),onColorContainer:a.tone(90)}}}(t,e)))}}function Bt(t){return Bt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bt(t)}var Dt=void 0;function Nt(t){return function(t){if(Array.isArray(t))return Ut(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||Gt(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Vt(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=Gt(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}function Gt(t,e){if(t){if("string"==typeof t)return Ut(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ut(t,e):void 0}}function Ut(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Zt(){Zt=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r=Object.defineProperty||function(t,e,n){t[e]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function c(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(t){c=function(t,e,n){return t[e]=n}}function l(t,e,n,o){var i=e&&e.prototype instanceof d?e:d,a=Object.create(i.prototype),s=new I(o||[]);return r(a,"_invoke",{value:x(t,n,s)}),a}function u(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=l;var p={};function d(){}function g(){}function h(){}var m={};c(m,i,(function(){return this}));var f=Object.getPrototypeOf,b=f&&f(f(E([])));b&&b!==e&&n.call(b,i)&&(m=b);var y=h.prototype=d.prototype=Object.create(m);function v(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function w(t,e){function o(r,i,a,s){var c=u(t[r],t,i);if("throw"!==c.type){var l=c.arg,p=l.value;return p&&"object"==Bt(p)&&n.call(p,"__await")?e.resolve(p.__await).then((function(t){o("next",t,a,s)}),(function(t){o("throw",t,a,s)})):e.resolve(p).then((function(t){l.value=t,a(l)}),(function(t){return o("throw",t,a,s)}))}s(c.arg)}var i;r(this,"_invoke",{value:function(t,n){function r(){return new e((function(e,r){o(t,n,e,r)}))}return i=i?i.then(r,r):r()}})}function x(t,e,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return S()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var s=k(a,n);if(s){if(s===p)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var c=u(t,e,n);if("normal"===c.type){if(r=n.done?"completed":"suspendedYield",c.arg===p)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r="completed",n.method="throw",n.arg=c.arg)}}}function k(t,e){var n=e.method,r=t.iterator[n];if(void 0===r)return e.delegate=null,"throw"===n&&t.iterator.return&&(e.method="return",e.arg=void 0,k(t,e),"throw"===e.method)||"return"!==n&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+n+"' method")),p;var o=u(r,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,p;var i=o.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,p):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,p)}function C(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function M(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function I(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(C,this),this.reset(!0)}function E(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:S}}function S(){return{value:void 0,done:!0}}return g.prototype=h,r(y,"constructor",{value:h,configurable:!0}),r(h,"constructor",{value:g,configurable:!0}),g.displayName=c(h,s,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,h):(t.__proto__=h,c(t,s,"GeneratorFunction")),t.prototype=Object.create(y),t},t.awrap=function(t){return{__await:t}},v(w.prototype),c(w.prototype,a,(function(){return this})),t.AsyncIterator=w,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new w(l(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},v(y),c(y,s,"Generator"),c(y,i,(function(){return this})),c(y,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},t.values=E,I.prototype={constructor:I,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(M),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return a.type="throw",a.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var s=n.call(i,"catchLoc"),c=n.call(i,"finallyLoc");if(s&&c){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,p):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),p},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),M(n),p}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;M(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:E(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),p}},t}function Wt(t,e,n,r,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,o)}function Yt(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){Wt(i,r,o,a,s,"next",t)}function s(t){Wt(i,r,o,a,s,"throw",t)}a(void 0)}))}}var Jt=function(t,e){t=t.split(",");var n=setInterval((function(){var r,o=!0,i=Vt(t);try{for(i.s();!(r=i.n()).done;){var a=r.value;document.querySelector(a)||(o=!1)}}catch(t){i.e(t)}finally{i.f()}if(o){clearInterval(n);var s,c=Vt(t);try{for(c.s();!(s=c.n()).done;){var l=s.value;e.call(Dt,document.querySelector(l))}}catch(t){c.e(t)}finally{c.f()}}}),100)},$t=function(t,e){var n,r=Nt([(n=e)>>16&255,n>>8&255,255&n]),o=r[0],i=r[1],a=r[2];document.body.style.setProperty("--".concat(t),"rgb(".concat(o,", ").concat(i,", ").concat(a,")")),document.body.style.setProperty("--".concat(t,"-rgb"),"".concat(o,", ").concat(i,", ").concat(a))},Xt=function(t){var e=document.createElement("canvas");e.width=50,e.height=50;var n=e.getContext("2d");n.drawImage(t,0,0,t.naturalWidth,t.naturalHeight,0,0,50,50);var r,o,i=(r=n.getImageData(0,0,50,50).data,o=4,r.reduce((function(t,e,n){return n%o==0?[].concat(I(t),[[e]]):[].concat(I(t.slice(0,-1)),[[].concat(I(t.slice(-1)[0]),[e])])}),[])).map((function(t){return(t[3]<<24>>>0|t[0]<<16>>>0|t[1]<<8>>>0|t[2])>>>0})),a=_t.quantize(i,128),s=Ft(jt.score(a)[0]);$t("rnp-accent-color",s.schemes.dark.primary),$t("rnp-accent-color-shade-1",s.schemes.light.outlineVariant),$t("rnp-accent-color-shade-2",s.schemes.light.surfaceVariant)},Kt="",Qt=function(){if(document.querySelector(".g-single")){var t=document.querySelector(".n-single .cdimg img");if(t){var e,n=document.querySelector(".n-single .cdimg");t.complete?((e=t.src)!=Kt&&(Kt=e,Xt(t)),n.classList.remove("loading")):n.classList.add("loading")}}};Jt(".n-single .cdimg img",(function(t){t.addEventListener("load",Qt),new MutationObserver(Qt).observe(t,{attributes:!0,attributeFilter:["src"]})}));var te="",ee=document.createElement("style");ee.innerHTML="",document.head.appendChild(ee);var ne=function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=document.querySelector(".g-single .g-singlec-ct .n-single .mn .head .inf .title");if(e&&(e.innerText!==te||t)){te=e.innerText;var n=e.innerText,r=document.createElement("div");r.style.position="absolute",r.style.top="-9999px",r.style.left="-9999px",r.style.width="auto",r.style.height="auto",r.style.whiteSpace="nowrap",r.innerText=n,document.body.appendChild(r);for(var o=Math.max(Math.min(.05*document.body.clientHeight,60),45),i=24,a=.95*(document.body.clientWidth/2-50),s=1,c=61;s<c;){var l=Math.floor((s+c)/2);r.style.fontSize="".concat(l,"px");var u=r.clientWidth;u>a?c=l:s=l+1}var p=s-1;p=Math.max(Math.min(p,o),i),r.style.fontSize="".concat(p,"px");r.clientWidth;document.body.removeChild(r),ee.innerHTML="\n\t\t.g-single .g-singlec-ct .n-single .mn .head .inf .title h1 {\n\t\t\tfont-size: ".concat(p,"px !important;\n\t\t}\n\t")}},re=document.createElement("style");re.innerHTML="",document.head.appendChild(re);var oe=function(){if(document.body.classList.contains("vertical-align-middle")&&document.querySelector(".g-single")){var t=document.querySelector(".g-single .g-singlec-ct").clientHeight,e=document.querySelector(".g-single .content").clientHeight,n=t-parseInt(getComputedStyle(document.querySelector(".g-single-track .content")).bottom)-e-(t/2-e/2);document.body.classList.contains("applemusic-like-lyrics")&&(n-=120),re.innerHTML="\n\t\tbody.vertical-align-middle .g-single-track .g-singlec-ct .n-single .sd,\n\t\tbody.vertical-align-middle .g-single-track .g-singlec-ct .n-single .mn .head {\n\t\t\ttransform: translateY(-".concat(n,"px);\n\t\t}\n\t\tbody.vertical-align-middle .g-single-track .g-singlec-ct .n-single .mn .lyric {\n\t\t\tbottom: 15vh;\n\t\t}\n\t")}};oe(),window.addEventListener("resize",(function(){ne(!0),oe()}));var ie=function(){var t,e;!function(){var t=document.querySelector(".g-single-track .g-singlec-ct .n-single .mn .head .inf .title");if(t){var e=t.querySelector("h1 > .name > .tag-wrap");if(e){var n=t.querySelector("h1 > .tag-wrap");n&&n.remove(),t.querySelector("h1").appendChild(e)}}}();var n=document.querySelector(".g-single .g-singlec-ct .n-single .mn .head .inf .title .name");if(n){if(3===(null!==(t=null==n||null===(e=n.firstChild)||void 0===e?void 0:e.nodeType)&&void 0!==t?t:0)){var r=document.createElement("div");r.classList.add("name-inner"),r.innerHTML=n.innerHTML,n.innerHTML="",n.appendChild(r)}var o=n.clientWidth,i=n.querySelector(".name-inner").clientWidth;o<i&&i-o<20&&(ee.innerHTML="\n\t\t\t.g-single .g-singlec-ct .n-single .mn .head .inf .title h1 {\n\t\t\t\tfont-size: ".concat(ee.innerHTML.match(/font-size: (\d+)px/)[1]-1,"px !important;\n\t\t\t}\n\t\t")),o<i?n.classList.add("scroll"):n.classList.remove("scroll"),n.style.setProperty("--scroll-offset","".concat(i-o,"px")),n.style.setProperty("--scroll-speed","".concat((i-o)/30,"s"))}};Jt("#main-player, .m-pinfo",(function(t){t.addEventListener("mouseenter",(function(){document.body.classList.add("bottombar-hover")})),t.addEventListener("mouseleave",(function(){document.body.classList.remove("bottombar-hover")}))}));var ae=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";t="refined-now-playing-"+t;var n=localStorage.getItem(t);return n||(n=e),"true"===n?n=!0:"false"===n&&(n=!1),n},se=function(t,e){t="refined-now-playing-"+t,localStorage.setItem(t,e)},ce=function(t,e){e?document.body.classList.add(t):document.body.classList.remove(t)},le=function(){var t=Yt(Zt().mark((function t(){var e,n,r,o,i,a,s;return Zt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e=function(t){t.addEventListener("input",(function(t){var e=t.target.value,n=t.target.min,r=(e-n)/(t.target.max-n),o="linear-gradient(90deg, var(--rnp-accent-color) ".concat(100*r,"%, #dfe1e422 ").concat(100*r,"%)");t.target.style.background=o,e!=t.target.getAttribute("default")?t.target.parentElement.classList.add("changed"):t.target.parentElement.classList.remove("changed")})),t.parentElement.querySelector(".rnp-slider-reset").addEventListener("click",(function(t){var e=t.target.parentElement.parentElement.querySelector(".rnp-slider");e.value=e.getAttribute("default"),e.dispatchEvent(new Event("input")),e.dispatchEvent(new Event("change"))})),t.dispatchEvent(new Event("input"))},n=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];t.checked=ae(t.id,n),t.addEventListener("change",(function(n){se(t.id,n.target.checked),ce(e,n.target.checked)})),ce(e,t.checked)},r=function(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"input",i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:function(t){return t},a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"";t.value=ae(t.id,r),t.dispatchEvent(new Event("input")),t.addEventListener(o,(function(t){var e=t.target.value;document.body.style.setProperty(n,i(e))})),t.addEventListener("change",(function(e){se(t.id,e.target.value)})),a&&(t.addEventListener("mousedown",(function(t){document.body.classList.add(a)})),t.addEventListener("mouseup",(function(t){document.body.classList.remove(a)}))),document.body.style.setProperty(n,i(t.value)),e(t)},o=function(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"input",i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:function(t){return t},a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"";t.value=ae(t.id,r),t.dispatchEvent(new Event("input")),t.addEventListener(o,(function(t){var e=t.target.value;n(i(e))})),t.addEventListener("change",(function(e){se(t.id,e.target.value)})),a&&(t.addEventListener("mousedown",(function(t){document.body.classList.add(a)})),t.addEventListener("mouseup",(function(t){document.body.classList.remove(a)}))),n(i(t.value)),e(t)},i=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(t){return t},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:function(t){},o=t.querySelectorAll(".rnp-select-group-btn");o.forEach((function(e){e.addEventListener("click",(function(e){var i=e.target.getAttribute("value");o.forEach((function(t){t.classList.remove("selected"),document.body.classList.remove(n(t.getAttribute("value")))})),e.target.classList.add("selected"),document.body.classList.add(n(i)),se(t.id,i),r(i)}))}));var i=ae(t.id,e);o.forEach((function(t){t.getAttribute("value")==i?(t.classList.add("selected"),document.body.classList.add(n(i))):(t.classList.remove("selected"),document.body.classList.remove(n(t.getAttribute("value"))))})),r(i)},a=function(){var t=document.querySelector("#rectangle-cover"),e=document.querySelector("#lyric-blur"),a=document.querySelector("#enable-accent-color"),s=document.querySelector("#use-notosans"),c=document.querySelector("#hide-comments"),l=document.querySelector("#lyric-break-word"),u=document.querySelector("#partial-bg"),p=document.querySelector("#gradient-bg-dynamic"),d=document.querySelector("#use-amll-bg");n(t,"rectangle-cover",!0),n(e,"lyric-blur",!0),n(a,"enable-accent-color",!0),n(s,"use-notosans",!1),n(c,"hide-comments",!1),n(l,"lyric-break-word",!0),n(u,"partial-bg",!1),n(p,"gradient-bg-dynamic",!0),n(d,"use-amll-bg",!0);var g=document.querySelector("#bg-blur"),h=document.querySelector("#bg-dim"),m=document.querySelector("#bg-dim-for-gradient-bg"),f=document.querySelector("#bg-dim-for-fluid-bg"),b=document.querySelector("#bg-opacity"),y=document.querySelector("#album-size"),v=document.querySelector("#font-size-lyric"),w=document.querySelector("#font-size-lyric-current");r(g,"--bg-blur",36,"change",(function(t){return t+"px"})),r(h,"--bg-dim",55,"input",(function(t){return t/100})),r(m,"--bg-dim-for-gradient-bg",45,"input",(function(t){return t/100})),r(f,"--bg-dim-for-fluid-bg",30,"input",(function(t){return t/100})),r(b,"--bg-opacity",0,"input",(function(t){return 1-t/100})),o(y,(function(t){window.albumSize=t;var e=document.querySelector(".n-single .cdimg img").src,n=e.replace(/thumbnail=\d+y\d+/g,"thumbnail=".concat(window.albumSize,"y").concat(window.albumSize));e!=n&&(document.querySelector(".n-single .cdimg img").src=n)}),200,"change",(function(t){return 200==t?210:t})),r(v,"--font-size-lyric",1.05,"input",(function(t){return w.value<t&&(w.value=t,w.dispatchEvent(new Event("input"))),t+"rem"}),"adjusting-lyric-size"),r(w,"--font-size-lyric-current",1.3,"input",(function(t){return t+"rem"}),"adjusting-lyric-size");var x=document.querySelector("#vertical-align"),k=document.querySelector("#background-type");i(x,"bottom",(function(t){return"vertical-align-"+t}),(function(){oe()})),i(k,"fluid",(function(t){return"rnp-bg-".concat(t)}),(function(t){document.dispatchEvent(new CustomEvent("rnp-background-type",{detail:{type:t}}))}))},(s=document.createElement("div")).id="settings-menu",s.innerHTML='<input id="rnp-settings" class="open" type="checkbox"></input>\r\n<div id="rnp-settings-menu">\r\n\t<div class="rnp-group">\r\n\t\t<div class="rnp-group-title">外观</div>\r\n\t\t<div class="rnp-select-group-wrapper">\r\n\t\t\t<label for="vertical-align" class="rnp-select-group-label">垂直对齐</label>\r\n\t\t\t<div class="rnp-select-group" id="vertical-align">\r\n\t\t\t\t<button class="rnp-select-group-btn selected" value="bottom">居下</button>\r\n\t\t\t\t<button class="rnp-select-group-btn" value="middle">居中</button>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t\t<div class="rnp-checkbox-wrapper">\r\n\t\t\t<input id="rectangle-cover" type="checkbox" class="rnp-checkbox">\r\n\t\t\t<label for="rectangle-cover" class="rnp-checkbox-label">方形专辑封面</label>\r\n\t\t</div>\r\n\t\t<div class="rnp-checkbox-wrapper incompatible-with-amll">\r\n\t\t\t<input id="lyric-blur" type="checkbox" class="rnp-checkbox">\r\n\t\t\t<label for="lyric-blur" class="rnp-checkbox-label">歌词模糊效果</label>\r\n\t\t</div>\r\n\t\t<div class="rnp-checkbox-wrapper">\r\n\t\t\t<input id="enable-accent-color" type="checkbox" class="rnp-checkbox">\r\n\t\t\t<label for="enable-accent-color" class="rnp-checkbox-label">沉浸主题色</label>\r\n\t\t</div>\r\n\t</div>\r\n\r\n\t<div class="rnp-group">\r\n\t\t<div class="rnp-group-title">背景</div>\r\n\t\t<div class="rnp-checkbox-wrapper only-visible-with-amll use-amll-bg" style="--estimated-height: 20px;">\r\n\t\t\t<input id="use-amll-bg" type="checkbox" class="rnp-checkbox">\r\n\t\t\t<label for="use-amll-bg" class="rnp-checkbox-label">使用 Apple Lyrics 背景</label>\r\n\t\t</div>\r\n\t\t<div class="rnp-select-group-wrapper">\r\n\t\t\t<label for="bg-type" class="rnp-select-group-label">类型</label>\r\n\t\t\t<div class="rnp-select-group" id="background-type">\r\n\t\t\t\t<button class="rnp-select-group-btn selected" value="fluid">流体</button>\r\n\t\t\t\t<button class="rnp-select-group-btn" value="blur">模糊</button>\r\n\t\t\t\t<button class="rnp-select-group-btn" value="gradient">渐变</button>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t\t<div class="rnp-checkbox-wrapper gradient-bg-dynamic" style="--estimated-height: 20px;">\r\n\t\t\t<input id="gradient-bg-dynamic" type="checkbox" class="rnp-checkbox">\r\n\t\t\t<label for="gradient-bg-dynamic" class="rnp-checkbox-label">动态渐变</label>\r\n\t\t</div>\r\n\t\t<div class="rnp-slider-wrapper bg-blur">\r\n\t\t\t<label for="bg-blur" class="rnp-slider-label">模糊<button class="rnp-slider-reset"></button></label>\r\n\t\t\t<input id="bg-blur" type="range" class="rnp-slider" min="0" max="100" value="36" default="36">\r\n\t\t</div>\r\n\t\t<div class="rnp-slider-wrapper bg-dim" style="transition: all 0s;">\r\n\t\t\t<label for="bg-dim" class="rnp-slider-label">暗化<button class="rnp-slider-reset"></button></label>\r\n\t\t\t<input id="bg-dim" type="range" class="rnp-slider" min="0" max="100" value="55" default="55">\r\n\t\t</div>\r\n\t\t<div class="rnp-slider-wrapper bg-dim-for-gradient-bg" style="transition: all 0s;"> \x3c!-- 渐变背景 独立的暗化值 --\x3e\r\n\t\t\t<label for="bg-dim-for-gradient-bg" class="rnp-slider-label">暗化<button class="rnp-slider-reset"></button></label>\r\n\t\t\t<input id="bg-dim-for-gradient-bg" type="range" class="rnp-slider" min="0" max="100" value="45" default="45">\r\n\t\t</div>\r\n\t\t<div class="rnp-slider-wrapper bg-dim-for-fluid-bg" style="transition: all 0s;"> \x3c!-- 流体背景 独立的暗化值 --\x3e\r\n\t\t\t<label for="bg-dim-for-fluid-bg" class="rnp-slider-label">暗化<button class="rnp-slider-reset"></button></label>\r\n\t\t\t<input id="bg-dim-for-fluid-bg" type="range" class="rnp-slider" min="0" max="90" value="30" default="30">\r\n\t\t</div>\r\n\t\t<div class="rnp-slider-wrapper bg-opacity">\r\n\t\t\t<label for="bg-opacity" class="rnp-slider-label">透明度<button class="rnp-slider-reset"></button></label>\r\n\t\t\t<input id="bg-opacity" type="range" class="rnp-slider" min="0" max="100" value="0" default="0">\r\n\t\t</div>\r\n\t\t<div class="rnp-checkbox-wrapper">\r\n\t\t\t<input id="partial-bg" type="checkbox" class="rnp-checkbox">\r\n\t\t\t<label for="partial-bg" class="rnp-checkbox-label">局部背景</label>\r\n\t\t</div>\r\n\t</div>\r\n\r\n\t\r\n\t<div class="rnp-group">\r\n\t\t<div class="rnp-group-title">字体</div>\r\n\t\t<div class="rnp-slider-wrapper incompatible-with-amll">\r\n\t\t\t<label for="font-size-lyric" class="rnp-slider-label">歌词大小<button class="rnp-slider-reset"></button></label>\r\n\t\t\t<input id="font-size-lyric" type="range" class="rnp-slider" min="0.8" max="2.2" step="0.01" value="1.05" default="1.05">\r\n\t\t</div>\r\n\t\t<div class="rnp-slider-wrapper incompatible-with-amll" style="transition: all 0s;">\r\n\t\t\t<label for="font-size-lyric-current" class="rnp-slider-label">歌词大小 (当前)<button class="rnp-slider-reset"></button></label>\r\n\t\t\t<input id="font-size-lyric-current" type="range" class="rnp-slider" min="0.8" max="2.2" step="0.01" value="1.3" default="1.3">\r\n\t\t</div>\r\n\t\t<div class="rnp-checkbox-wrapper">\r\n\t\t\t<input id="use-notosans" type="checkbox" class="rnp-checkbox">\r\n\t\t\t<label for="use-notosans" class="rnp-checkbox-label">思源黑体</label>\r\n\t\t</div>\r\n\t\t<span class="rnp-checkbox-note">需要电脑中有此字体</span>\r\n\t</div>\r\n\r\n\t\r\n\t<div class="rnp-group">\r\n\t\t<div class="rnp-group-title">杂项</div>\r\n\t\t<div class="rnp-checkbox-wrapper">\r\n\t\t\t<input id="hide-comments" type="checkbox" class="rnp-checkbox">\r\n\t\t\t<label for="hide-comments" class="rnp-checkbox-label">隐藏评论区</label>\r\n\t\t</div>\r\n\t\t<div class="rnp-checkbox-wrapper incompatible-with-amll">\r\n\t\t\t<input id="lyric-break-word" type="checkbox" class="rnp-checkbox">\r\n\t\t\t<label for="lyric-break-word" class="rnp-checkbox-label">优化歌词断行</label>\r\n\t\t</div>\r\n\t\t<span class="rnp-checkbox-note incompatible-with-amll">不在单词内部断行</span>\r\n\t\t<div class="rnp-slider-wrapper album-size with-ticks">\r\n\t\t\t<label for="album-size" class="rnp-slider-label">专辑封面清晰度<button class="rnp-slider-reset"></button></label>\r\n\t\t\t<input id="album-size" type="range" class="rnp-slider" min="200" max="800" value="200" default="200" step="200">\r\n\t\t\t<div class="rnp-slider-ticks">\r\n\t\t\t\t<div class="rnp-slider-tick">200</div>\r\n\t\t\t\t<div class="rnp-slider-tick">400</div>\r\n\t\t\t\t<div class="rnp-slider-tick">600</div>\r\n\t\t\t\t<div class="rnp-slider-tick">800</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t\t<span class="rnp-slider-note">可能带来更慢的加载速度</span>\r\n\t</div>\r\n</div>',document.querySelector(".g-single").appendChild(s),a();case 11:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),ue=function t(e){if(0==e.childElementCount){if(!e.innerHTML.includes("&nbsp;"))return;e.innerHTML=e.innerHTML.replace(/&nbsp;/g," ")}else e.querySelectorAll(".lyric-next-p").forEach((function(e){t(e)}))},pe=Object.getOwnPropertyDescriptor(HTMLImageElement.prototype,"src");Object.defineProperty(HTMLImageElement.prototype,"src",{get:function(){return pe.get.call(this)},set:function(t){return this.classList.contains("j-flag")&&(window.albumSize||(window.albumSize=210),(t=t.replace(/thumbnail=\d+y\d+/g,"thumbnail=".concat(window.albumSize,"y").concat(window.albumSize))).startsWith("data:image/gif;")&&(t="orpheus://cache/?https://p1.music.126.net/UeTuwE7pvjBpypWLudqukA==/3132508627578625.jpg")),pe.set.call(this,t)}});plugin.onLoad(function(){var t=Yt(Zt().mark((function t(e){var n;return Zt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.pluginPath,document.body.classList.add("refined-now-playing"),new MutationObserver(function(){var t=Yt(Zt().mark((function t(e){var n;return Zt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!document.querySelector(".g-single:not(.patched)")){t.next=17;break}return document.querySelector(".g-single").classList.add("patched"),(n=document.createElement("div")).classList.add("rnp-bg"),t.t0=ReactDOM,t.t1=React,t.t2=N,t.t3=ae("background-type","fluid"),t.next=10,betterncm.utils.waitForElement(".n-single .cdimg img");case 10:t.t4=t.sent,t.t5={type:t.t3,image:t.t4},t.t6=t.t1.createElement.call(t.t1,t.t2,t.t5),t.t7=n,t.t0.render.call(t.t0,t.t6,t.t7),document.querySelector(".g-single").appendChild(n),le();case 17:document.querySelector("#applemusic-like-lyrics-view + .n-single")&&document.body.classList.add("applemusic-like-lyrics");case 18:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).observe(document.body,{childList:!0}),new MutationObserver((function(t){ne(),ie(),oe(),t.forEach((function(t){var e;t.addedNodes.forEach((function(t){t.classList&&t.classList.contains("j-line")&&ue(t)})),null!=t&&null!==(e=t.target)&&void 0!==e&&e.classList&&t.target.classList.contains("lyric-next-p")&&ue(t.target)}))})).observe(document.body,{childList:!0,subtree:!0,attributes:!0,characterData:!0,attributeFilter:["src"]}),(n=document.createElement("link")).rel="stylesheet",document.head.appendChild(n),new MutationObserver((function(){document.body.classList.contains("mq-playing")?"orpheus://orpheus/style/res/less/default/css/skin.ls.css"!=n.href&&(n.href="orpheus://orpheus/style/res/less/default/css/skin.ls.css"):""!=n.href&&(n.href="")})).observe(document.body,{attributes:!0,attributeFilter:["class"]});case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),plugin.onConfig((function(t){return dom("div",{},dom("span",{innerHTML:"打开正在播放界面以调整设置 ",style:{fontSize:"18px"}}),t.makeBtn("打开",Yt(Zt().mark((function t(){return Zt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:document.querySelector("a[data-action='max']").click();case 1:case"end":return t.stop()}}),t)})))))}))})()})();